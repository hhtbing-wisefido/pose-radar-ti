# ğŸ“‹ AWRL6844 Health Detection Demo

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

åŸºäºTI AWRL6844æ¯«ç±³æ³¢é›·è¾¾çš„å¥åº·æ£€æµ‹æ¼”ç¤ºé¡¹ç›®ã€‚

**ç›®æ ‡åŠŸèƒ½**ï¼š
- âœ… åŸºç¡€é›·è¾¾ä¿¡å·é‡‡é›†ä¸å¤„ç†
- âœ… ç‚¹äº‘ç”Ÿæˆä¸è¾“å‡º
- ğŸš§ å­˜åœ¨æ£€æµ‹
- ğŸš§ ç”Ÿå‘½ä½“å¾ç›‘æµ‹ï¼ˆå‘¼å¸ã€å¿ƒç‡ï¼‰

**ç¡¬ä»¶å¹³å°**ï¼š
- èŠ¯ç‰‡: AWRL6844 (Cortex-R5F MSS + C66 DSP)
- è¯„ä¼°æ¿: AWRL6844EVM

## ğŸ“ é¡¹ç›®ç»“æ„

```
AWRL6844_HealthDetect/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ common/                     # é€šç”¨å®šä¹‰ï¼ˆMSS/DSSå…±äº«ï¼‰
â”‚   â”‚   â”œâ”€â”€ shared_memory.h         # L3å…±äº«å†…å­˜å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ data_path.h             # DPCæ•°æ®ç»“æ„
â”‚   â”‚   â”œâ”€â”€ health_detect_types.h   # å¥åº·æ£€æµ‹ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ mmwave_output.h         # TLVè¾“å‡ºæ ¼å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ mss/                        # MSSå­ç³»ç»Ÿï¼ˆCortex-R5Fï¼‰
â”‚   â”‚   â”œâ”€â”€ source/                 # æºä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ health_detect_main.c/h   # ä¸»åº”ç”¨
â”‚   â”‚   â”‚   â”œâ”€â”€ cli.c/h                  # CLIå‘½ä»¤æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ dpc_control.c/h          # DPCæ§åˆ¶
â”‚   â”‚   â”‚   â”œâ”€â”€ radar_control.c/h        # é›·è¾¾æ§åˆ¶
â”‚   â”‚   â”‚   â”œâ”€â”€ presence_detect.c/h      # å­˜åœ¨æ£€æµ‹
â”‚   â”‚   â”‚   â””â”€â”€ tlv_output.c/h           # TLVè¾“å‡º
â”‚   â”‚   â””â”€â”€ xwrL684x-evm/r5fss0-0_freertos/
â”‚   â”‚       â”œâ”€â”€ main.c              # FreeRTOSå…¥å£
â”‚   â”‚       â”œâ”€â”€ example.syscfg      # SysConfigé…ç½®
â”‚   â”‚       â””â”€â”€ ti-arm-clang/       # ç¼–è¯‘é…ç½®
â”‚   â”‚           â”œâ”€â”€ health_detect_6844_mss.projectspec
â”‚   â”‚           â””â”€â”€ linker.cmd
â”‚   â”‚
â”‚   â”œâ”€â”€ dss/                        # DSSå­ç³»ç»Ÿï¼ˆC66 DSPï¼‰
â”‚   â”‚   â”œâ”€â”€ source/                 # æºä»£ç 
â”‚   â”‚   â”‚   â””â”€â”€ health_detect_dss.c/h    # DSPä¿¡å·å¤„ç†
â”‚   â”‚   â””â”€â”€ xwrL684x-evm/c66ss0_freertos/
â”‚   â”‚       â”œâ”€â”€ main.c              # FreeRTOSå…¥å£
â”‚   â”‚       â”œâ”€â”€ example.syscfg      # SysConfigé…ç½®
â”‚   â”‚       â””â”€â”€ ti-c6000/           # ç¼–è¯‘é…ç½®
â”‚   â”‚           â”œâ”€â”€ health_detect_6844_dss.projectspec
â”‚   â”‚           â””â”€â”€ linker.cmd
â”‚   â”‚
â”‚   â””â”€â”€ system/                     # ç³»ç»Ÿé›†æˆ
â”‚       â”œâ”€â”€ system.xml              # å¤šæ ¸ç³»ç»Ÿé…ç½®
â”‚       â”œâ”€â”€ health_detect_6844_system.projectspec
â”‚       â”œâ”€â”€ makefile_system_ccs_bootimage_gen
â”‚       â””â”€â”€ config/                 # é•œåƒé…ç½®
â”‚           â”œâ”€â”€ metaimage_cfg.debug.json
â”‚           â””â”€â”€ metaimage_cfg.release.json
â”‚
â””â”€â”€ README.md
```

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒè¦æ±‚

### è½¯ä»¶è¦æ±‚

| ç»„ä»¶ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| MMWAVE-L-SDK | 06.01.00.01 | TIæ¯«ç±³æ³¢Lç³»åˆ—SDK |
| SysConfig | 1.26.0 | TIç³»ç»Ÿé…ç½®å·¥å…· |
| CCS | 12.x+ | Code Composer Studio |
| ti-arm-clang | 4.0.2.LTS | R5Fç¼–è¯‘å™¨ |
| ti-c6000 | 8.3.13 | C66 DSPç¼–è¯‘å™¨ |

### å®‰è£…è·¯å¾„

SDKé»˜è®¤å®‰è£…è·¯å¾„ï¼š
- Windows: `C:\ti\MMWAVE-L-SDK-6_06_01_00_01`

## ğŸš€ æ„å»ºæ­¥éª¤

### ä½¿ç”¨CCSæ„å»º

1. **å¯¼å…¥é¡¹ç›®**
   - File â†’ Import â†’ CCS Projects
   - é€‰æ‹© `src/system/health_detect_6844_system.projectspec`
   - å‹¾é€‰ "Automatically import referenced projects"

2. **æ„å»º**
   - å³é”®ç‚¹å‡» `health_detect_6844_system` é¡¹ç›®
   - é€‰æ‹© Build Project
   - è¿™ä¼šè‡ªåŠ¨æ„å»ºMSSå’ŒDSSé¡¹ç›®

3. **è¾“å‡ºæ–‡ä»¶**
   - MSS: `Debug/health_detect_6844_mss.out`
   - DSS: `Debug/health_detect_6844_dss.out`
   - åˆå¹¶é•œåƒ: `Debug/health_detect_6844_system.debug.appimage`

### ä½¿ç”¨å‘½ä»¤è¡Œæ„å»º

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export MCU_PLUS_SDK_PATH=/path/to/MMWAVE-L-SDK-6
export CCS_INSTALL_DIR=/path/to/ccs

# æ„å»ºMSS
cd src/mss/xwrL684x-evm/r5fss0-0_freertos/ti-arm-clang
make -f makefile all PROFILE=Debug

# æ„å»ºDSS
cd src/dss/xwrL684x-evm/c66ss0_freertos/ti-c6000
make -f makefile all PROFILE=Debug

# æ„å»ºSystem
cd src/system
make -f makefile_system_ccs_bootimage_gen all PROFILE=Debug
```

## ğŸ“¡ çƒ§å½•å›ºä»¶

### ä½¿ç”¨UniFlash

1. æ‰“å¼€UniFlashå·¥å…·
2. é€‰æ‹©è®¾å¤‡: AWRL6844
3. é€‰æ‹©è¿æ¥: XDS110
4. åŠ è½½é•œåƒ: `health_detect_6844_system.debug.appimage`
5. ç‚¹å‡» Program

### Flashåç§»é‡

| é•œåƒç±»å‹ | Flashåç§» |
|---------|----------|
| åº”ç”¨ç¨‹åº | 0x000A0000 |

## ğŸ’» ä½¿ç”¨è¯´æ˜

### ä¸²å£é…ç½®

| ç«¯å£ | æ³¢ç‰¹ç‡ | ç”¨é€” |
|------|--------|------|
| CLIç«¯å£ | 115200 | å‘½ä»¤è¾“å…¥ |
| æ•°æ®ç«¯å£ | 1250000 | TLVæ•°æ®è¾“å‡º |

### åŸºæœ¬CLIå‘½ä»¤

```
# å¯åŠ¨ä¼ æ„Ÿå™¨
sensorStart

# åœæ­¢ä¼ æ„Ÿå™¨
sensorStop

# é…ç½®å­˜åœ¨æ£€æµ‹é˜ˆå€¼
presenceThresh <value>
```

### æ•°æ®è¾“å‡º

æ•°æ®é€šè¿‡TLVæ ¼å¼è¾“å‡ºï¼Œå…¼å®¹mmWave Visualizerå·¥å…·ã€‚

TLVç±»å‹ï¼š
- 0x301: ç‚¹äº‘æ•°æ®
- 0x302: æ£€æµ‹ç»Ÿè®¡ä¿¡æ¯
- 0x303: å­˜åœ¨æŒ‡ç¤º
- 0x304: ç”Ÿå‘½ä½“å¾æ•°æ®

## ğŸ“Š æ¶æ„è¯´æ˜

### ä¸‰å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       System Layer                           â”‚
â”‚              (ç»„åˆMSS+DSSé•œåƒï¼Œå¼•å¯¼é…ç½®)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    MSS (R5F)        â”‚â—„â”€â”€â”€ IPC â”€â”€â”€â”€â–ºâ”‚    DSS (C66)        â”‚
â”‚  - é›·è¾¾æ§åˆ¶          â”‚    (L3 RAM)   â”‚  - ä¿¡å·å¤„ç†         â”‚
â”‚  - CLIæ¥å£          â”‚               â”‚  - FFTè¿ç®—          â”‚
â”‚  - é…ç½®ç®¡ç†          â”‚               â”‚  - CFARæ£€æµ‹         â”‚
â”‚  - æ•°æ®è¾“å‡º          â”‚               â”‚  - è§’åº¦ä¼°è®¡         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å†…å­˜å¸ƒå±€ï¼ˆL3å…±äº«RAMï¼‰

```
0x88000000 â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚   IPC Mailbox (1KB)  â”‚
0x88000400 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚                      â”‚
           â”‚   Radar Cube         â”‚
           â”‚   (448KB)            â”‚
           â”‚                      â”‚
0x88070400 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚   Detection Matrix   â”‚
           â”‚   (128KB)            â”‚
0x88090400 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚   Point Cloud        â”‚
           â”‚   (32KB)             â”‚
0x88098400 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚   Other Data         â”‚
           â”‚   (remaining)        â”‚
0x88160000 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ å‚è€ƒæ–‡æ¡£

- [AWRL6844 æ•°æ®æ‰‹å†Œ](https://www.ti.com/product/AWRL6844)
- [MMWAVE-L-SDK ç”¨æˆ·æŒ‡å—](https://www.ti.com/tool/MMWAVE-L-SDK)
- [In-Cabin Sensing Demo å‚è€ƒå®ç°](AWRL6844_InCabin_Demos/)

## âš ï¸ å·²çŸ¥é™åˆ¶

1. **å¥åº·æ£€æµ‹åŠŸèƒ½**ï¼šå½“å‰ç‰ˆæœ¬ä»…å®ç°æ¡†æ¶ï¼Œç”Ÿå‘½ä½“å¾ç®—æ³•å¾…å®Œå–„
2. **ä¿¡å·å¤„ç†**ï¼šDSSå±‚ä¿¡å·å¤„ç†æµç¨‹éœ€æ ¹æ®å®é™…éœ€æ±‚è¡¥å……
3. **IPCé€šä¿¡**ï¼šMSS-DSSé—´IPCéœ€å®Œå–„æ¶ˆæ¯åè®®

## ğŸ“… ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | è¯´æ˜ |
|------|------|------|
| 0.1.0 | 2026-01-08 | åˆå§‹æ¡†æ¶æ­å»º |

## ğŸ“„ è®¸å¯è¯

Copyright (C) 2024 Texas Instruments Incorporated

æœ¬é¡¹ç›®åŸºäºBSD-3-Clauseè®¸å¯è¯ã€‚
