# ğŸ“ AWRL6844é›·è¾¾å¥åº·æ£€æµ‹-ç¬¬3ç« -æ¶æ„æ¼”è¿›è§„åˆ’

> **ç« èŠ‚ç›®æ ‡**: ä»æ ‡å‡†mmw_demoå•æ ¸æ¶æ„æ¼”è¿›åˆ°å……åˆ†åˆ©ç”¨AWRL6844å¤šæ ¸èµ„æºçš„å¥åº·æ£€æµ‹æ¶æ„
> **åˆ›å»ºæ—¥æœŸ**: 2026-01-07
> **é€‚ç”¨å·¥ç¨‹**: `AWRL6844_HealthDetect`ï¼ˆæœ¬ç« è§„åˆ’ååˆ›å»ºï¼‰

---

## ğŸ“‹ ç« èŠ‚æ¦‚è¿°

### æœ¬ç« ç›®æ ‡

ä»ç¬¬2ç« éªŒè¯çš„æ ‡å‡†mmw_demoï¼ˆå•æ ¸R5Fæ¶æ„ï¼‰å‡ºå‘ï¼Œè®¾è®¡ä¸€ä¸ªå……åˆ†åˆ©ç”¨AWRL6844å¤šæ ¸èµ„æºçš„å¥åº·æ£€æµ‹ç³»ç»Ÿæ¶æ„ã€‚

**æ ¸å¿ƒä»»åŠ¡**ï¼š
1. âœ… æ·±å…¥ç†è§£DPCï¼ˆData Path Chainï¼‰æœºåˆ¶
2. âœ… å­¦ä¹ InCabinçš„å¤šæ ¸ååŒæ¶æ„
3. âœ… è®¾è®¡DSSç®—æ³•æ‰©å±•æ–¹æ¡ˆ
4. âœ… è§„åˆ’å…±äº«RAMä½¿ç”¨
5. âœ… åˆ¶å®šAWRL6844_HealthDetectç›®å½•ç»“æ„

### å‰ç½®æ¡ä»¶

- âœ… ç¬¬2ç« å·²å®Œæˆï¼šæ ‡å‡†mmw_demoéªŒè¯é€šè¿‡
- âœ… å·²æœ‰ä¸¤ä¸ªå·¥ç¨‹ç›®å½•ï¼š
  - `mmw_demo_SDK_reference` - SDKæ ‡å‡†Demoå‚è€ƒå‰¯æœ¬ï¼ˆä¸ä¿®æ”¹ï¼‰
  - å‡†å¤‡åˆ›å»º `AWRL6844_HealthDetect` - æœ¬ç« è§„åˆ’ååˆ›å»ºçš„æ–°å·¥ç¨‹

### å‚è€ƒæ–‡æ¡£

ğŸ“š **æ ¸å¿ƒå‚è€ƒ**ï¼š
- [é™„å½•C - InCabinæ¶æ„å­¦ä¹ å‚è€ƒ](./AWRL6844é›·è¾¾å¥åº·æ£€æµ‹-é™„å½•C-InCabinæ¶æ„å­¦ä¹ å‚è€ƒ.md)
- [é™„å½•B - SDKæºç æ¶æ„åˆ†æ](./AWRL6844é›·è¾¾å¥åº·æ£€æµ‹-é™„å½•B-SDKæºç æ¶æ„åˆ†æ.md)

---

## 3.1 æ¶æ„æ¼”è¿›èƒŒæ™¯

### 3.1.1 æ ‡å‡†mmw_demoçš„æ¶æ„é™åˆ¶

**å½“å‰æ¶æ„ï¼ˆç¬¬2ç« éªŒè¯çš„ï¼‰**ï¼š

```
æ ‡å‡†mmw_demoæ¶æ„ï¼ˆSDK 6.xå•æ ¸æ¶æ„ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RFå‰ç«¯ (FECSS)                         â”‚
â”‚     â†“                                  â”‚
â”‚  ADCæ•°æ® â†’ R5Få•æ ¸å¤„ç†                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  R5F Core (APPSS @ 200MHz)   â”‚      â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚
â”‚  â”‚  [100%è´Ÿè½½]                   â”‚      â”‚
â”‚  â”‚  â”œâ”€â”€ Range FFT               â”‚      â”‚
â”‚  â”‚  â”œâ”€â”€ Doppler FFT             â”‚      â”‚
â”‚  â”‚  â”œâ”€â”€ CFAR Detection          â”‚      â”‚
â”‚  â”‚  â”œâ”€â”€ AOA Processing          â”‚      â”‚
â”‚  â”‚  â”œâ”€â”€ ç‚¹äº‘è¾“å‡º                 â”‚      â”‚
â”‚  â”‚  â”œâ”€â”€ CLIå¤„ç†                 â”‚      â”‚
â”‚  â”‚  â””â”€â”€ TLVæ ¼å¼åŒ–               â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                        â”‚
â”‚  ã€æµªè´¹çš„èµ„æºã€‘                         â”‚
â”‚  âŒ C66x DSP @ 450MHz - 0%ä½¿ç”¨ï¼ˆé—²ç½®ï¼‰  â”‚
â”‚  âŒ HWAç¡¬ä»¶åŠ é€Ÿå™¨ - æœªå……åˆ†åˆ©ç”¨         â”‚
â”‚  âŒ å…±äº«RAM 896KB - æœªä½¿ç”¨             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é—®é¢˜åˆ†æï¼š
- R5Få•æ ¸200MHzæ‰¿æ‹…æ‰€æœ‰ä»»åŠ¡ â†’ CPUè´Ÿè½½100%
- C66x DSP 450MHzå®Œå…¨é—²ç½® â†’ ç®—åŠ›æµªè´¹69%
- æ— æ³•æ”¯æ’‘å¤æ‚ç®—æ³•ï¼ˆç‰¹å¾æå–ã€CNNç­‰ï¼‰
- å¸§ç‡å—é™ï¼Œå®æ—¶æ€§å·®
```

### 3.1.2 AWRL6844ç¡¬ä»¶èµ„æº

**å®Œæ•´ç¡¬ä»¶æ¶æ„**ï¼š

| å­ç³»ç»Ÿ | æ ¸å¿ƒ | é¢‘ç‡ | ä¸»è¦åŠŸèƒ½ | å½“å‰åˆ©ç”¨ç‡ |
|-------|------|------|---------|----------|
| **APPSS (MSS)** | ARM R5F | 200MHz | ä¸»æ§åˆ¶ã€åº”ç”¨é€»è¾‘ | âœ… 100% |
| **DSS** | C66x DSP | 450MHz | ä¿¡å·å¤„ç†ã€ç®—æ³• | âŒ 0% |
| **HWA** | ç¡¬ä»¶åŠ é€Ÿå™¨ | - | FFTã€CFARç¡¬ä»¶åŠ é€Ÿ | âš ï¸ éƒ¨åˆ† |
| **FECSS** | RFå‰ç«¯ | - | é›·è¾¾æ”¶å‘ | âœ… 100% |

**å…±äº«èµ„æº**ï¼š
- **L3 RAM (Shared)**: 896KB - å¤šæ ¸å…±äº«å†…å­˜
- **Mailbox**: æ ¸é—´é€šä¿¡æœºåˆ¶
- **EDMA**: é«˜é€Ÿæ•°æ®ä¼ è¾“

**ç®—åŠ›å¯¹æ¯”**ï¼š
```
R5F @ 200MHz  =  200 MIPS (æ•´æ•°è¿ç®—)
C66x @ 450MHz = 3600 MIPS (æµ®ç‚¹è¿ç®—) + SIMDåŠ é€Ÿ

æ€»ç®—åŠ›ï¼š3800 MIPS
å½“å‰åˆ©ç”¨ï¼š200 MIPS (ä»…5.3%)
æµªè´¹ç®—åŠ›ï¼š3600 MIPS (94.7%)
```

### 3.1.3 å¥åº·æ£€æµ‹çš„ç®—æ³•éœ€æ±‚

**ç®—æ³•å¤æ‚åº¦åˆ†æ**ï¼š

| ç®—æ³•æ¨¡å— | è®¡ç®—éœ€æ±‚ | é€‚åˆéƒ¨ç½²ä½ç½® |
|---------|---------|------------|
| **ç‚¹äº‘åŸºç¡€å¤„ç†** | FFTã€CFAR | HWAç¡¬ä»¶åŠ é€Ÿ |
| **ç‚¹äº‘ç‰¹å¾æå–** | æµ®ç‚¹è¿ç®—å¯†é›† | C66x DSP âœ… |
| **è´¨å¿ƒè®¡ç®—** | ç´¯åŠ ã€é™¤æ³• | C66x DSP âœ… |
| **åˆ†å¸ƒèŒƒå›´è®¡ç®—** | ç»Ÿè®¡è¿ç®— | C66x DSP âœ… |
| **é€Ÿåº¦ç‰¹å¾** | æµ®ç‚¹è¿ç®— | C66x DSP âœ… |
| **å§¿æ€è§„åˆ™åˆ†ç±»** | ç®€å•é€»è¾‘åˆ¤æ–­ | R5F âœ… |
| **è·Œå€’çŠ¶æ€æœº** | æ§åˆ¶é€»è¾‘ | R5F âœ… |
| **TLVè¾“å‡º** | æ•°æ®æ ¼å¼åŒ– | R5F âœ… |
| **CLI/é€šä¿¡** | å¤–è®¾æ§åˆ¶ | R5F âœ… |

**ç»“è®º**ï¼šå¿…é¡»åˆ©ç”¨C66x DSPåˆ†æ‹…è®¡ç®—ä»»åŠ¡ï¼

---

## 3.2 Phase 3A: DPCæœºåˆ¶ä¸InCabinæ¶æ„å­¦ä¹ 

### 3.2.1 DPCæœºåˆ¶æ·±å…¥ç†è§£

#### ä»€ä¹ˆæ˜¯DPC (Data Path Chain)

**DPC = mmWave SDKçš„æ ‡å‡†æ•°æ®å¤„ç†æ¡†æ¶**

```
DPCå·¥ä½œæµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DPCæ¡†æ¶                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  [é…ç½®é˜¶æ®µ] - MSS/R5F                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ 1. R5Fé…ç½®DPCå‚æ•°                  â”‚             â”‚
â”‚  â”‚ 2. å†™å…¥å…±äº«RAMé…ç½®åŒº               â”‚             â”‚
â”‚  â”‚ 3. é€šè¿‡Mailboxé€šçŸ¥DSS              â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚          â†“                                           â”‚
â”‚  [æ‰§è¡Œé˜¶æ®µ] - DSS/C66x                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ 4. DSSä»å…±äº«RAMè¯»å–é…ç½®            â”‚             â”‚
â”‚  â”‚ 5. HWAæ‰§è¡ŒRange/Doppler FFT        â”‚             â”‚
â”‚  â”‚ 6. C66xæ‰§è¡ŒCFARã€AOAã€ç‰¹å¾æå–     â”‚             â”‚
â”‚  â”‚ 7. ç»“æœå†™å…¥å…±äº«RAMç»“æœåŒº           â”‚             â”‚
â”‚  â”‚ 8. é€šè¿‡Mailboxé€šçŸ¥MSSå®Œæˆ          â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚          â†“                                           â”‚
â”‚  [ç»“æœå¤„ç†] - MSS/R5F                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ 9. R5Fä»å…±äº«RAMè¯»å–ç»“æœ            â”‚             â”‚
â”‚  â”‚ 10. æ‰§è¡Œåº”ç”¨å±‚ç®—æ³•ï¼ˆåˆ†ç±»ã€å†³ç­–ï¼‰   â”‚             â”‚
â”‚  â”‚ 11. TLVæ ¼å¼åŒ–è¾“å‡º                  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å…³é”®æ¦‚å¿µï¼š
- DPC = æ ‡å‡†åŒ–çš„DSSæ•°æ®å¤„ç†ç®¡é“
- é…ç½®ã€æ‰§è¡Œã€ç»“æœä¸‰é˜¶æ®µé€šè¿‡å…±äº«RAM+MailboxååŒ
- MSSè´Ÿè´£æ§åˆ¶ï¼ŒDSSè´Ÿè´£è®¡ç®—
```

#### å…³é”®æ•°æ®ç»“æ„

**DPCé…ç½®ç»“æ„**ï¼ˆMSS â†’ DSSï¼‰ï¼š

```c
// æ ‡å‡†DPCé…ç½®ï¼ˆåœ¨common/å¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼‰
typedef struct DPC_ObjectDetection_Config
{
    // åŸºç¡€é…ç½®
    uint32_t numRangeBins;        // Range binsæ•°é‡
    uint32_t numDopplerBins;      // Doppler binsæ•°é‡
    uint32_t numAngleBins;        // Angle binsæ•°é‡
    
    // CFARé…ç½®
    DPC_CFAR_Config cfarCfg;
    
    // AOAé…ç½®
    DPC_AOA_Config aoaCfg;
    
    // ... æ›´å¤šé…ç½®
} DPC_ObjectDetection_Config_t;
```

**DPCç»“æœç»“æ„**ï¼ˆDSS â†’ MSSï¼‰ï¼š

```c
// æ ‡å‡†DPCç»“æœï¼ˆåœ¨common/å¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼‰
typedef struct DPC_ObjectDetection_ExecuteResult
{
    // æ£€æµ‹ç›®æ ‡æ•°é‡
    uint32_t numObjOut;
    
    // ç‚¹äº‘æ•°æ®æŒ‡é’ˆï¼ˆæŒ‡å‘å…±äº«RAMï¼‰
    DPIF_PointCloudCartesian *objOut;
    
    // ç‚¹äº‘é™„åŠ ä¿¡æ¯
    DPIF_PointCloudSideInfo *objOutSideInfo;
    
    // ç»Ÿè®¡ä¿¡æ¯
    DPC_ObjectDetection_Stats stats;
    
} DPC_ObjectDetection_ExecuteResult_t;
```

**ç‚¹äº‘æ•°æ®æ ¼å¼**ï¼š

```c
// SDKæ ‡å‡†ç‚¹äº‘æ ¼å¼
typedef struct DPIF_PointCloudCartesian
{
    float x;          // Xåæ ‡ï¼ˆç±³ï¼‰
    float y;          // Yåæ ‡ï¼ˆç±³ï¼‰
    float z;          // Zåæ ‡ï¼ˆç±³ï¼‰
    float velocity;   // é€Ÿåº¦ï¼ˆm/sï¼‰
} DPIF_PointCloudCartesian_t;

typedef struct DPIF_PointCloudSideInfo
{
    int16_t snr;      // ä¿¡å™ªæ¯”ï¼ˆdBï¼‰
    int16_t noise;    // å™ªå£°åŠŸç‡
} DPIF_PointCloudSideInfo_t;
```

### 3.2.2 InCabinå¤šæ ¸æ¶æ„å­¦ä¹ 

> ğŸ“š **è¯¦ç»†åˆ†æ**è§ï¼š[é™„å½•C - InCabinæ¶æ„å­¦ä¹ å‚è€ƒ](./AWRL6844é›·è¾¾å¥åº·æ£€æµ‹-é™„å½•C-InCabinæ¶æ„å­¦ä¹ å‚è€ƒ.md)

#### InCabinæ¶æ„ç²¾åæ€»ç»“

**1. ç›®å½•ç»„ç»‡æ–¹å¼** ğŸ”¥

```
InCabinçš„ä¸‰å±‚æ¶æ„ï¼š
AWRL6844_InCabin_Demos/src/
â”œâ”€â”€ common_mss_dss/          â† ğŸ”¥ æ ¸å¿ƒï¼šMSSå’ŒDSSå…±äº«æ¥å£
â”‚   â”œâ”€â”€ data_path.h         # DPCæ•°æ®ç»“æ„å®šä¹‰
â”‚   â”œâ”€â”€ shared_memory.h     # å…±äº«RAMåœ°å€æ˜ å°„
â”‚   â”œâ”€â”€ mmwave_output.h     # TLVè¾“å‡ºæ ¼å¼
â”‚   â””â”€â”€ utils.h             # é€šç”¨å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ mss/                     â† R5Fä»£ç 
â”‚   â”œâ”€â”€ mmwave_demo_mss.c   # ä¸»æ§é€»è¾‘ã€DPCåè°ƒ
â”‚   â”œâ”€â”€ occupancyClassifier.c  # CNNåˆ†ç±»å™¨
â”‚   â”œâ”€â”€ cli.c               # CLIå‘½ä»¤è§£æ
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ dss/                     â† C66x DSPä»£ç 
    â”œâ”€â”€ mmwave_demo_dss.c   # DSPä¾§æ•°æ®å¤„ç†å…¥å£
    â”œâ”€â”€ capon_processing.c  # Caponæ³¢æŸæˆå½¢
    â”œâ”€â”€ feature_extract.c   # ç‰¹å¾æå–
    â””â”€â”€ dpu/                # Data Processing Units
```

**2. å…±äº«RAMä½¿ç”¨æ–¹å¼** ğŸ”¥

```c
// InCabinçš„å…±äº«RAMæ˜ å°„ï¼ˆshared_memory.hï¼‰

#define L3_SRAM_BASE_ADDR       0x51000000
#define L3_SRAM_SIZE            (896 * 1024)   // 896KB

// åŒºåŸŸåˆ’åˆ†
#define DPC_CONFIG_BASE         (L3_SRAM_BASE_ADDR + 0x00000)  // 4KB
#define DPC_RESULT_BASE         (L3_SRAM_BASE_ADDR + 0x01000)  // 4KB
#define POINT_CLOUD_BASE        (L3_SRAM_BASE_ADDR + 0x02000)  // 8KB
#define FEATURE_DATA_BASE       (L3_SRAM_BASE_ADDR + 0x04000)  // 4KB
#define SCRATCH_BUFFER_BASE     (L3_SRAM_BASE_ADDR + 0x05000)  // 875KB

ä½¿ç”¨è§„åˆ™ï¼š
- MSSå†™é…ç½® â†’ DSSè¯»é…ç½®
- DSSå†™ç»“æœ â†’ MSSè¯»ç»“æœ
- ä½¿ç”¨__attribute__((section(".l3ram"))) æŒ‡å®šæ•°æ®æ®µ
```

**3. ç®—æ³•éƒ¨ç½²ç­–ç•¥** ğŸ”¥

| ç®—æ³• | InCabinéƒ¨ç½² | åŸå›  |
|------|-----------|------|
| Range/Doppler FFT | HWA | ç¡¬ä»¶åŠ é€Ÿ |
| CFARæ£€æµ‹ | HWA + C66x | HWAç²—æ£€æµ‹ï¼ŒDSSç²¾ç»†åŒ– |
| Caponæ³¢æŸæˆå½¢ | C66x DSP | å¤æ‚çŸ©é˜µè¿ç®—ï¼Œ450MHzç®—åŠ› |
| ç‚¹äº‘ç‰¹å¾æå– | C66x DSP | æµ®ç‚¹å¯†é›†è¿ç®— |
| CNNåˆ†ç±»å™¨ | R5F | æ¨ç†è®¡ç®—é‡ä¸å¤§ï¼Œä¸»æ ¸å¯æ‰¿å— |
| å†³ç­–é€»è¾‘ | R5F | çŠ¶æ€æœºã€è§„åˆ™åˆ¤æ–­ |
| CLI/é€šä¿¡ | R5F | å¤–è®¾ä¸°å¯Œ |

#### ä¸ºä»€ä¹ˆInCabinä½œä¸ºåŸºç¡€å·¥ç¨‹å¤±è´¥ä½†æ¶æ„å€¼å¾—å­¦ä¹ ï¼Ÿ

**å¤±è´¥åŸå› **ï¼ˆè§é™„å½•Cè¯¦ç»†åˆ†æï¼‰ï¼š
- âŒ Caponç®—æ³•éœ€è¦æé«˜ç›¸ä½æ ¡å‡†ç²¾åº¦ï¼ˆ<1Â°ï¼‰
- âŒ éœ€è¦DCA1000é‡‡é›†åŸå§‹æ•°æ®è¿›è¡Œæ ¡å‡†
- âŒ TLVæ ¼å¼ä¸“æœ‰ï¼ŒSDK Visualizeræ— æ³•è§£æ
- âŒ æ‚æ³¢æŠ‘åˆ¶è¿‡äºæ¿€è¿›ï¼Œå®¤å†…åœºæ™¯å¯èƒ½æŠŠäººè¿‡æ»¤æ‰

**æ¶æ„è®¾è®¡æˆåŠŸä¹‹å¤„** âœ…ï¼š
- âœ… æ­£ç¡®åˆ©ç”¨äº†AWRL6844å¤šæ ¸æ¶æ„ï¼ˆR5F+C66xï¼‰
- âœ… common/ç›®å½•æ¸…æ™°å®šä¹‰å…±äº«æ¥å£
- âœ… å…±äº«RAMé«˜æ•ˆæ•°æ®ä¼ é€’
- âœ… ç®—æ³•éƒ¨ç½²ç­–ç•¥åˆç†ï¼ˆè®¡ç®—å¯†é›†â†’DSSï¼Œæ§åˆ¶â†’MSSï¼‰

**å­¦ä¹ ç­–ç•¥**ï¼š
```
âœ… å­¦ä¹ ï¼šæ¶æ„è®¾è®¡æ€è·¯ã€ä»£ç ç»„ç»‡æ–¹å¼ã€å…±äº«RAMä½¿ç”¨
âŒ ä¸ç”¨ï¼šCaponç®—æ³•ã€ä¸“æœ‰TLVæ ¼å¼ã€InCabinå›ºä»¶

æˆ‘ä»¬çš„æ–¹æ¡ˆ = æ ‡å‡†mmw_demoåŸºç¡€ + InCabinæ¶æ„æ€è·¯
           = å¯é ç‚¹äº‘ + å¤šæ ¸ååŒ
```

---

## 3.3 Phase 3B: DSSç®—æ³•æ‰©å±•æ¶æ„è®¾è®¡

### 3.3.1 ç›®æ ‡æ¶æ„è®¾è®¡

**AWRL6844_HealthDetectå¤šæ ¸ååŒæ¶æ„**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          AWRL6844å¥åº·æ£€æµ‹å¤šæ ¸ååŒæ¶æ„ï¼ˆç›®æ ‡æ¶æ„ï¼‰              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  RFå‰ç«¯ (FECSS @ 60GHz)                                       â”‚
â”‚     â†“                                                         â”‚
â”‚  ADCæ•°æ® â†’ HWAç¡¬ä»¶åŠ é€Ÿ                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  HWA (ç¡¬ä»¶åŠ é€Ÿå™¨)                                   â”‚      â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚
â”‚  â”‚  â”œâ”€â”€ Range FFT (1D FFT)                           â”‚      â”‚
â”‚  â”‚  â”œâ”€â”€ Doppler FFT (2D FFT)                         â”‚      â”‚
â”‚  â”‚  â””â”€â”€ CFAR Detection                               â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚            â†“ ç‚¹äº‘æ•°æ®                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  DSS (C66x DSP @ 450MHz)  ã€æ–°å¢æ‰©å±•ã€‘            â”‚      â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚
â”‚  â”‚  [ç‰¹å¾æå–æ¨¡å—] - æœ¬ç« è®¾è®¡é‡ç‚¹                     â”‚      â”‚
â”‚  â”‚   â”œâ”€â”€ è´¨å¿ƒè®¡ç®— (centerX, centerY, centerZ)        â”‚      â”‚
â”‚  â”‚   â”œâ”€â”€ åˆ†å¸ƒèŒƒå›´ (spreadXY, spreadZ)                â”‚      â”‚
â”‚  â”‚   â”œâ”€â”€ é€Ÿåº¦ç‰¹å¾ (avgVelocity, maxVelocity)        â”‚      â”‚
â”‚  â”‚   â”œâ”€â”€ ç‚¹äº‘æ•°é‡ç»Ÿè®¡                                 â”‚      â”‚
â”‚  â”‚   â””â”€â”€ ç»“æœå†™å…¥å…±äº«RAM                             â”‚      â”‚
â”‚  â”‚                                                    â”‚      â”‚
â”‚  â”‚  [å¯é€‰ï¼šèšç±»ç®—æ³•] - ç¬¬8ç« å¤šç›®æ ‡æ”¯æŒ                â”‚      â”‚
â”‚  â”‚   â””â”€â”€ DBSCANèšç±»ï¼ˆå¤šäººåœºæ™¯ï¼‰                       â”‚      â”‚
â”‚  â”‚                                                    â”‚      â”‚
â”‚  â”‚  [å¯é€‰ï¼šé«˜çº§ç®—æ³•] - Phase 2ç ”ç©¶                    â”‚      â”‚
â”‚  â”‚   â””â”€â”€ å¾®å¤šæ™®å‹’FFTï¼ˆå‘¼å¸æ£€æµ‹ï¼‰                      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚            â†“ å…±äº«RAM (896KB)                                 â”‚
â”‚            â†“ ç‰¹å¾æ•°æ®ä¼ é€’                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  MSS/APPSS (R5F @ 200MHz)  ã€åº”ç”¨å±‚ã€‘             â”‚      â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚      â”‚
â”‚  â”‚  [DPCåè°ƒ] - æ§åˆ¶DSSæ‰§è¡Œ                           â”‚      â”‚
â”‚  â”‚  [åº”ç”¨ç®—æ³•] - åŸºäºç‰¹å¾çš„å†³ç­–                        â”‚      â”‚
â”‚  â”‚   â”œâ”€â”€ presence_detect.c  - äººå­˜æ£€æµ‹ï¼ˆç‚¹äº‘æ•°é‡ï¼‰   â”‚      â”‚
â”‚  â”‚   â”œâ”€â”€ pose_detect.c      - å§¿æ€åˆ†ç±»ï¼ˆè§„åˆ™/CNNï¼‰   â”‚      â”‚
â”‚  â”‚   â”œâ”€â”€ fall_detect.c      - è·Œå€’æ£€æµ‹ï¼ˆçŠ¶æ€æœºï¼‰     â”‚      â”‚
â”‚  â”‚   â””â”€â”€ health_monitor.c   - ä¸»ç›‘æ§é€»è¾‘             â”‚      â”‚
â”‚  â”‚  [è¾“å‡ºæ§åˆ¶]                                        â”‚      â”‚
â”‚  â”‚   â”œâ”€â”€ TLVæ ¼å¼åŒ–                                   â”‚      â”‚
â”‚  â”‚   â”œâ”€â”€ CLIå‘½ä»¤å¤„ç†                                 â”‚      â”‚
â”‚  â”‚   â””â”€â”€ UART/CANé€šä¿¡                                â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç®—åŠ›åˆ©ç”¨ç‡åˆ†æï¼š
- R5F @ 200MHzï¼š60%ä½¿ç”¨ï¼ˆä¸»æ§+åº”ç”¨ï¼‰
- C66x @ 450MHzï¼š40%ä½¿ç”¨ï¼ˆç‰¹å¾æå–ï¼‰
- HWAï¼š100%ä½¿ç”¨ï¼ˆFFT+CFARï¼‰
- æ€»ç®—åŠ›åˆ©ç”¨ç‡ï¼š85%+ âœ…
```

### 3.3.2 ç®—æ³•éƒ¨ç½²å†³ç­–

#### Phase 1æ ¸å¿ƒç®—æ³•éƒ¨ç½²

| ç®—æ³•æ¨¡å— | éƒ¨ç½²ä½ç½® | ç†ç”± | ç« èŠ‚ |
|---------|---------|------|------|
| **ç‚¹äº‘åŸºç¡€å¤„ç†** | HWA | ç¡¬ä»¶åŠ é€Ÿï¼Œæ•ˆç‡æœ€é«˜ | ç¬¬2ç« å·²éªŒè¯ |
| **è´¨å¿ƒè®¡ç®—** | **DSS/C66x** ğŸ”¥ | æµ®ç‚¹ç´¯åŠ /é™¤æ³•ï¼ŒDSPä¼˜åŠ¿ | ç¬¬4-5ç«  |
| **åˆ†å¸ƒèŒƒå›´è®¡ç®—** | **DSS/C66x** ğŸ”¥ | ç»Ÿè®¡è¿ç®—ï¼ŒDSPé«˜æ•ˆ | ç¬¬4-5ç«  |
| **é€Ÿåº¦ç‰¹å¾æå–** | **DSS/C66x** ğŸ”¥ | æµ®ç‚¹è¿ç®— | ç¬¬4-5ç«  |
| **äººå­˜è§„åˆ™åˆ¤æ–­** | MSS/R5F | ç®€å•é˜ˆå€¼åˆ¤æ–­ | ç¬¬4ç«  |
| **å§¿æ€è§„åˆ™åˆ†ç±»** | MSS/R5F | If-elseé€»è¾‘ | ç¬¬5ç«  |
| **è·Œå€’çŠ¶æ€æœº** | MSS/R5F | çŠ¶æ€è½¬æ¢é€»è¾‘ | ç¬¬6ç«  |
| **TLVè¾“å‡º** | MSS/R5F | æ•°æ®æ ¼å¼åŒ– | æ‰€æœ‰ç« èŠ‚ |

#### Phase 1Bæ‰©å±•ç®—æ³•éƒ¨ç½²

| ç®—æ³•æ¨¡å— | éƒ¨ç½²ä½ç½® | ç†ç”± | ç« èŠ‚ |
|---------|---------|------|------|
| **DBSCANèšç±»** | **DSS/C66x** | æµ®ç‚¹è·ç¦»è®¡ç®—å¯†é›† | ç¬¬8ç«  |
| **å¤šç›®æ ‡è¿½è¸ª** | DSS/C66x | å¡å°”æ›¼æ»¤æ³¢æµ®ç‚¹è¿ç®— | ç¬¬8ç« ï¼ˆå¯é€‰ï¼‰ |

#### Phase 2ç ”ç©¶ç®—æ³•éƒ¨ç½²

| ç®—æ³•æ¨¡å— | éƒ¨ç½²ä½ç½® | ç†ç”± | ç« èŠ‚ |
|---------|---------|------|------|
| **å¾®å¤šæ™®å‹’FFT** | **DSS/C66x** | FFTè¿ç®—ï¼ŒDSPåŠ é€Ÿ | ç¬¬10ç«  |
| **CNNåˆ†ç±»å™¨** | MSS/R5F | æ¨ç†é‡çº§å°ï¼ŒR5Få¯æ‰¿å— | ç¬¬5ç« ï¼ˆPhase 2ï¼‰ |

#### å†³ç­–åŸåˆ™æ€»ç»“

```
éƒ¨ç½²å†³ç­–æ ‘ï¼š
â”Œâ”€ ç®—æ³•ç±»å‹ï¼Ÿ
â”‚
â”œâ”€ æµ®ç‚¹å¯†é›†è¿ç®—ï¼ˆç´¯åŠ ã€ç»Ÿè®¡ã€çŸ©é˜µï¼‰ï¼Ÿ
â”‚  â””â”€ YES â†’ DSS/C66x @ 450MHz âœ…
â”‚
â”œâ”€ FFT/CFARï¼Ÿ
â”‚  â””â”€ YES â†’ HWAç¡¬ä»¶åŠ é€Ÿ âœ…
â”‚
â”œâ”€ æ§åˆ¶é€»è¾‘ï¼ˆçŠ¶æ€æœºã€if-elseï¼‰ï¼Ÿ
â”‚  â””â”€ YES â†’ MSS/R5F @ 200MHz âœ…
â”‚
â””â”€ å¤–è®¾æ§åˆ¶ï¼ˆUARTã€CLIï¼‰ï¼Ÿ
   â””â”€ YES â†’ MSS/R5F @ 200MHz âœ…
```

### 3.3.3 å…±äº«RAMä½¿ç”¨è§„åˆ’

**L3 RAM (896KB) åˆ†é…æ–¹æ¡ˆ**ï¼š

```
L3 Shared RAM Memory Map (896KB total)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Base Address: 0x51000000

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 0x51000000 - 0x51001000  (4KB)                          â”‚
â”‚ [DPCé…ç½®åŒº] - MSSå†™ï¼ŒDSSè¯»                              â”‚
â”‚ - DPC_ObjectDetection_Config                           â”‚
â”‚ - CFARå‚æ•°ã€AOAå‚æ•°                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x51001000 - 0x51003000  (8KB)                          â”‚
â”‚ [ç‚¹äº‘æ•°æ®åŒº] - DSSå†™ï¼ŒMSSè¯»                             â”‚
â”‚ - DPIF_PointCloudCartesian[æœ€å¤š256ä¸ªç‚¹]                â”‚
â”‚ - DPIF_PointCloudSideInfo[æœ€å¤š256ä¸ªç‚¹]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x51003000 - 0x51004000  (4KB)                          â”‚
â”‚ [ç‰¹å¾æ•°æ®åŒº] - DSSå†™ï¼ŒMSSè¯»  ğŸ”¥ æœ¬ç« é‡ç‚¹è®¾è®¡             â”‚
â”‚ - HealthDetect_PointCloudFeatures                      â”‚
â”‚   Â· centerX, centerY, centerZ  (è´¨å¿ƒ)                  â”‚
â”‚   Â· spreadXY, spreadZ          (åˆ†å¸ƒ)                  â”‚
â”‚   Â· avgVelocity, maxVelocity   (é€Ÿåº¦)                  â”‚
â”‚   Â· numPoints                  (ç‚¹æ•°)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x51004000 - 0x51005000  (4KB)                          â”‚
â”‚ [DPCç»“æœåŒº] - DSSå†™ï¼ŒMSSè¯»                              â”‚
â”‚ - DPC_ObjectDetection_ExecuteResult                    â”‚
â”‚ - ç»Ÿè®¡ä¿¡æ¯ã€æ—¶é—´æˆ³                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x51005000 - 0x510E0000  (876KB)                        â”‚
â”‚ [DSSå·¥ä½œç¼“å†²åŒº] - DSSå†…éƒ¨ä½¿ç”¨                           â”‚
â”‚ - FFTä¸­é—´ç»“æœ                                          â”‚
â”‚ - CFARä¸´æ—¶æ•°æ®                                         â”‚
â”‚ - èšç±»ç®—æ³•ç¼“å†²ï¼ˆç¬¬8ç« ï¼‰                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¿é—®è§„åˆ™ï¼š
âœ… MSSå†™é…ç½® â†’ DSSè¯»é…ç½®ï¼ˆé…ç½®é˜¶æ®µï¼‰
âœ… DSSå†™ç‚¹äº‘ â†’ MSSè¯»ç‚¹äº‘ï¼ˆç»“æœé˜¶æ®µï¼‰
âœ… DSSå†™ç‰¹å¾ â†’ MSSè¯»ç‰¹å¾ï¼ˆç»“æœé˜¶æ®µï¼‰
âŒ ä¸å…è®¸åŒæ—¶è¯»å†™åŒä¸€åŒºåŸŸ
```

**å…³é”®æ•°æ®ç»“æ„å®šä¹‰**ï¼š

```c
// åœ¨ common/shared_memory.h ä¸­å®šä¹‰

// å…±äº«RAMåŸºåœ°å€
#define L3_SRAM_BASE            0x51000000
#define L3_SRAM_SIZE            (896 * 1024)

// åŒºåŸŸåˆ’åˆ†
#define DPC_CONFIG_OFFSET       0x00000   // 4KB
#define POINT_CLOUD_OFFSET      0x01000   // 8KB
#define FEATURE_DATA_OFFSET     0x03000   // 4KB
#define DPC_RESULT_OFFSET       0x04000   // 4KB
#define SCRATCH_BUFFER_OFFSET   0x05000   // 876KB

// è®¡ç®—ç»å¯¹åœ°å€
#define DPC_CONFIG_BASE         (L3_SRAM_BASE + DPC_CONFIG_OFFSET)
#define POINT_CLOUD_BASE        (L3_SRAM_BASE + POINT_CLOUD_OFFSET)
#define FEATURE_DATA_BASE       (L3_SRAM_BASE + FEATURE_DATA_OFFSET)
#define DPC_RESULT_BASE         (L3_SRAM_BASE + DPC_RESULT_OFFSET)
#define SCRATCH_BUFFER_BASE     (L3_SRAM_BASE + SCRATCH_BUFFER_OFFSET)

// ç‰¹å¾æ•°æ®ç»“æ„ï¼ˆDSSè®¡ç®—ï¼ŒMSSè¯»å–ï¼‰
typedef struct HealthDetect_PointCloudFeatures
{
    // è´¨å¿ƒåæ ‡ï¼ˆç±³ï¼‰
    float centerX;
    float centerY;
    float centerZ;
    
    // åˆ†å¸ƒèŒƒå›´ï¼ˆç±³ï¼‰
    float spreadXY;   // XYå¹³é¢åˆ†å¸ƒåŠå¾„
    float spreadZ;    // Zè½´é«˜åº¦èŒƒå›´
    
    // é€Ÿåº¦ç‰¹å¾ï¼ˆm/sï¼‰
    float avgVelocity;
    float maxVelocity;
    
    // ç‚¹äº‘ç»Ÿè®¡
    uint32_t numPoints;
    
    // æ—¶é—´æˆ³
    uint32_t frameNumber;
    
} HealthDetect_PointCloudFeatures_t;

// åœ¨å…±äº«RAMä¸­åˆ†é…
#pragma DATA_SECTION(gFeatureData, ".l3ram")
HealthDetect_PointCloudFeatures_t gFeatureData;
```

---

## 3.4 AWRL6844_HealthDetectç›®å½•ç»“æ„è§„åˆ’

### 3.4.1 å®Œæ•´ç›®å½•ç»“æ„

**å‚è€ƒInCabinï¼Œè®¾è®¡ä¸‰å±‚æ¶æ„**ï¼š

```
AWRL6844_HealthDetect/
â”œâ”€â”€ README.md                         # å·¥ç¨‹è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ .gitignore                        # Gitå¿½ç•¥é…ç½®
â”‚
â”œâ”€â”€ profiles/                         # é›·è¾¾é…ç½®æ–‡ä»¶ ğŸ“
â”‚   â”œâ”€â”€ health_detect_base.cfg       # åŸºç¡€é…ç½®ï¼ˆ4T4Rï¼‰
â”‚   â”œâ”€â”€ health_detect_optimized.cfg  # ä¼˜åŒ–é…ç½®ï¼ˆç¬¬7ç« ï¼‰
â”‚   â””â”€â”€ README.md                    # é…ç½®è¯´æ˜
â”‚
â”œâ”€â”€ src/                              # æºä»£ç ç›®å½• ğŸ“
â”‚   â”œâ”€â”€ common/                      # ğŸ”¥ MSSå’ŒDSSå…±äº«ä»£ç ï¼ˆå­¦InCabinï¼‰
â”‚   â”‚   â”œâ”€â”€ data_path.h              # DPCæ•°æ®ç»“æ„
â”‚   â”‚   â”œâ”€â”€ shared_memory.h          # å…±äº«RAMå®šä¹‰
â”‚   â”‚   â”œâ”€â”€ health_detect_types.h    # å¥åº·æ£€æµ‹ä¸“ç”¨ç±»å‹
â”‚   â”‚   â”œâ”€â”€ mmwave_output.h          # TLVè¾“å‡ºæ ¼å¼
â”‚   â”‚   â””â”€â”€ README.md                # å…±äº«æ¥å£è¯´æ˜
â”‚   â”‚
â”‚   â”œâ”€â”€ mss/                         # R5F/APPSSä»£ç  ğŸ“
â”‚   â”‚   â”œâ”€â”€ mmwave_demo_mss.c        # ä¸»æ§ç¨‹åºï¼ˆæ‰©å±•æ ‡å‡†Demoï¼‰
â”‚   â”‚   â”œâ”€â”€ dpc_control.c/.h         # DPCåè°ƒæ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ presence_detect.c/.h     # äººå­˜æ£€æµ‹ï¼ˆç¬¬4ç« ï¼‰
â”‚   â”‚   â”œâ”€â”€ pose_detect.c/.h         # å§¿æ€æ£€æµ‹ï¼ˆç¬¬5ç« ï¼‰
â”‚   â”‚   â”œâ”€â”€ fall_detect.c/.h         # è·Œå€’æ£€æµ‹ï¼ˆç¬¬6ç« ï¼‰
â”‚   â”‚   â”œâ”€â”€ health_monitor.c/.h      # ä¸»ç›‘æ§é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ cli.c/.h                 # CLIå‘½ä»¤æ‰©å±•
â”‚   â”‚   â”œâ”€â”€ tlv_output.c/.h          # TLVè¾“å‡º
â”‚   â”‚   â”œâ”€â”€ zone_config.c/.h         # åŒºåŸŸé…ç½®ï¼ˆç¬¬9ç« ï¼‰
â”‚   â”‚   â””â”€â”€ README.md                # MSSä»£ç è¯´æ˜
â”‚   â”‚
â”‚   â”œâ”€â”€ dss/                         # C66x DSPä»£ç  ğŸ“ ğŸ”¥ æœ¬ç« é‡ç‚¹
â”‚   â”‚   â”œâ”€â”€ mmwave_demo_dss.c        # DSPå…¥å£ï¼ˆæ‰©å±•æ ‡å‡†Demoï¼‰
â”‚   â”‚   â”œâ”€â”€ feature_extract.c/.h     # ç‰¹å¾æå–ï¼ˆè´¨å¿ƒã€åˆ†å¸ƒã€é€Ÿåº¦ï¼‰
â”‚   â”‚   â”œâ”€â”€ clustering.c/.h          # DBSCANèšç±»ï¼ˆç¬¬8ç« ï¼‰
â”‚   â”‚   â”œâ”€â”€ micro_doppler.c/.h       # å¾®å¤šæ™®å‹’åˆ†æï¼ˆç¬¬10ç« ï¼‰
â”‚   â”‚   â”œâ”€â”€ dsp_utils.c/.h           # DSPå·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ README.md                # DSSä»£ç è¯´æ˜
â”‚   â”‚
â”‚   â””â”€â”€ system/                      # ç³»ç»Ÿé…ç½® ğŸ“
â”‚       â”œâ”€â”€ linker_mss.cmd           # MSSé“¾æ¥è„šæœ¬
â”‚       â”œâ”€â”€ linker_dss.cmd           # DSSé“¾æ¥è„šæœ¬
â”‚       â”œâ”€â”€ shared_memory.ld         # å…±äº«RAMæ˜ å°„
â”‚       â””â”€â”€ README.md                # ç³»ç»Ÿé…ç½®è¯´æ˜
â”‚
â”œâ”€â”€ test/                            # æµ‹è¯•ä»£ç  ğŸ“
â”‚   â”œâ”€â”€ unit_tests/                  # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_presence.c          # äººå­˜æ£€æµ‹æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_pose.c              # å§¿æ€æ£€æµ‹æµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_fall.c              # è·Œå€’æ£€æµ‹æµ‹è¯•
â”‚   â”œâ”€â”€ integration_tests/           # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ README.md                    # æµ‹è¯•è¯´æ˜
â”‚
â”œâ”€â”€ docs/                            # å·¥ç¨‹æ–‡æ¡£ ğŸ“
â”‚   â”œâ”€â”€ algorithm_design.md          # ç®—æ³•è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ api_reference.md             # APIå‚è€ƒ
â”‚   â”œâ”€â”€ memory_map.md                # å†…å­˜æ˜ å°„
â”‚   â””â”€â”€ performance_report.md        # æ€§èƒ½æŠ¥å‘Š
â”‚
â”œâ”€â”€ prebuilt_binaries/               # é¢„ç¼–è¯‘å›ºä»¶ ğŸ“
â”‚   â””â”€â”€ xwrL684x-evm/
â”‚       â””â”€â”€ health_detect.appimage   # ç¼–è¯‘è¾“å‡º
â”‚
â””â”€â”€ tools/                           # å·¥å…·è„šæœ¬ ğŸ“
    â”œâ”€â”€ flash.sh                     # çƒ§å½•è„šæœ¬
    â”œâ”€â”€ debug.sh                     # è°ƒè¯•è„šæœ¬
    â””â”€â”€ README.md                    # å·¥å…·è¯´æ˜
```

### 3.4.2 å…³é”®ç›®å½•è¯´æ˜

#### src/common/ - å…±äº«æ¥å£å±‚ ğŸ”¥

**ä½œç”¨**ï¼šå®šä¹‰MSSå’ŒDSSéƒ½éœ€è¦ä½¿ç”¨çš„æ•°æ®ç»“æ„å’Œæ¥å£

**æ ¸å¿ƒæ–‡ä»¶**ï¼š

| æ–‡ä»¶ | ä½œç”¨ | å‚è€ƒ |
|------|------|------|
| `data_path.h` | DPCæ•°æ®ç»“æ„å®šä¹‰ | InCabin/common_mss_dss/data_path.h |
| `shared_memory.h` | å…±äº«RAMåœ°å€æ˜ å°„ | InCabin/common_mss_dss/shared_memory.h |
| `health_detect_types.h` | å¥åº·æ£€æµ‹ä¸“ç”¨ç±»å‹ | æ–°å¢ |
| `mmwave_output.h` | TLVè¾“å‡ºæ ¼å¼å®šä¹‰ | InCabin/common_mss_dss/mmwave_output.h |

**ç¤ºä¾‹ï¼šhealth_detect_types.h**

```c
#ifndef HEALTH_DETECT_TYPES_H
#define HEALTH_DETECT_TYPES_H

#include <stdint.h>

// ç‚¹äº‘ç‰¹å¾ç»“æ„ï¼ˆDSSè®¡ç®—ï¼ŒMSSä½¿ç”¨ï¼‰
typedef struct HealthDetect_PointCloudFeatures
{
    float centerX, centerY, centerZ;   // è´¨å¿ƒ
    float spreadXY, spreadZ;           // åˆ†å¸ƒ
    float avgVelocity, maxVelocity;   // é€Ÿåº¦
    uint32_t numPoints;               // ç‚¹æ•°
    uint32_t frameNumber;             // å¸§å·
} HealthDetect_PointCloudFeatures_t;

// äººå­˜çŠ¶æ€æšä¸¾
typedef enum {
    PRESENCE_ABSENT = 0,    // æ— äºº
    PRESENCE_PRESENT = 1    // æœ‰äºº
} PresenceState_e;

// å§¿æ€æšä¸¾
typedef enum {
    POSE_UNKNOWN = 0,  // æœªçŸ¥
    POSE_STANDING = 1, // ç«™ç«‹
    POSE_SITTING = 2,  // å
    POSE_LYING = 3,    // èºº
    POSE_WALKING = 4   // èµ°
} PoseState_e;

// è·Œå€’çŠ¶æ€æšä¸¾
typedef enum {
    FALL_NONE = 0,         // æ­£å¸¸
    FALL_SUSPECTED = 1,    // ç–‘ä¼¼è·Œå€’
    FALL_CONFIRMED = 2     // ç¡®è®¤è·Œå€’
} FallState_e;

#endif
```

#### src/mss/ - R5Fåº”ç”¨å±‚

**ä½œç”¨**ï¼šä¸»æ§é€»è¾‘ã€DPCåè°ƒã€åº”ç”¨ç®—æ³•ï¼ˆåŸºäºç‰¹å¾çš„å†³ç­–ï¼‰

**æ ¸å¿ƒæ¨¡å—**ï¼š

| æ¨¡å— | æ–‡ä»¶ | ç« èŠ‚ | åŠŸèƒ½ |
|------|------|------|------|
| DPCåè°ƒ | `dpc_control.c/.h` | ç¬¬3-4ç«  | æ§åˆ¶DSSæ‰§è¡Œ |
| äººå­˜æ£€æµ‹ | `presence_detect.c/.h` | ç¬¬4ç«  | åŸºäºç‚¹äº‘æ•°é‡åˆ¤æ–­ |
| å§¿æ€æ£€æµ‹ | `pose_detect.c/.h` | ç¬¬5ç«  | åŸºäºç‰¹å¾çš„è§„åˆ™åˆ†ç±» |
| è·Œå€’æ£€æµ‹ | `fall_detect.c/.h` | ç¬¬6ç«  | çŠ¶æ€æœºé€»è¾‘ |
| ä¸»ç›‘æ§ | `health_monitor.c/.h` | ç¬¬4-6ç«  | é›†æˆæ‰€æœ‰æ¨¡å— |

**ç¤ºä¾‹ï¼špresence_detect.h**

```c
#ifndef PRESENCE_DETECT_H
#define PRESENCE_DETECT_H

#include "health_detect_types.h"

// äººå­˜æ£€æµ‹é…ç½®
typedef struct {
    uint32_t minPointsPresent;    // åˆ¤å®šæœ‰äººçš„æœ€å°ç‚¹æ•°
    uint32_t hysteresisFrames;    // æ»ååˆ¤æ–­å¸§æ•°
} PresenceDetect_Config_t;

// åˆå§‹åŒ–äººå­˜æ£€æµ‹
void PresenceDetect_init(PresenceDetect_Config_t *cfg);

// æ‰§è¡Œäººå­˜æ£€æµ‹ï¼ˆè¾“å…¥ï¼šç‰¹å¾ï¼Œè¾“å‡ºï¼šçŠ¶æ€ï¼‰
PresenceState_e PresenceDetect_run(
    const HealthDetect_PointCloudFeatures_t *features
);

#endif
```

#### src/dss/ - C66x DSPç®—æ³•å±‚ ğŸ”¥

**ä½œç”¨**ï¼šè®¡ç®—å¯†é›†å‹ç®—æ³•ï¼ˆç‰¹å¾æå–ã€èšç±»ã€é«˜çº§åˆ†æï¼‰

**æ ¸å¿ƒæ¨¡å—**ï¼š

| æ¨¡å— | æ–‡ä»¶ | ç« èŠ‚ | åŠŸèƒ½ |
|------|------|------|------|
| ç‰¹å¾æå– | `feature_extract.c/.h` | ç¬¬4-5ç«  | è´¨å¿ƒã€åˆ†å¸ƒã€é€Ÿåº¦è®¡ç®— |
| èšç±»ç®—æ³• | `clustering.c/.h` | ç¬¬8ç«  | DBSCANå¤šç›®æ ‡åˆ†ç¦» |
| å¾®å¤šæ™®å‹’ | `micro_doppler.c/.h` | ç¬¬10ç«  | å‘¼å¸æ£€æµ‹ï¼ˆç ”ç©¶ï¼‰ |

**ç¤ºä¾‹ï¼šfeature_extract.h**

```c
#ifndef FEATURE_EXTRACT_H
#define FEATURE_EXTRACT_H

#include "health_detect_types.h"
#include "data_path.h"

// ç‰¹å¾æå–å‡½æ•°ï¼ˆåœ¨DSS/C66xæ‰§è¡Œï¼‰
// è¾“å…¥ï¼šç‚¹äº‘æ•°æ®ï¼ˆä»HWAè¾“å‡ºï¼‰
// è¾“å‡ºï¼šç‰¹å¾æ•°æ®ï¼ˆå†™å…¥å…±äº«RAMï¼‰
void FeatureExtract_run(
    const DPIF_PointCloudCartesian *pointCloud,
    uint32_t numPoints,
    HealthDetect_PointCloudFeatures_t *features
);

// è´¨å¿ƒè®¡ç®—
void FeatureExtract_computeCenter(
    const DPIF_PointCloudCartesian *pointCloud,
    uint32_t numPoints,
    float *centerX, float *centerY, float *centerZ
);

// åˆ†å¸ƒèŒƒå›´è®¡ç®—
void FeatureExtract_computeSpread(
    const DPIF_PointCloudCartesian *pointCloud,
    uint32_t numPoints,
    float centerX, float centerY, float centerZ,
    float *spreadXY, float *spreadZ
);

// é€Ÿåº¦ç‰¹å¾è®¡ç®—
void FeatureExtract_computeVelocity(
    const DPIF_PointCloudCartesian *pointCloud,
    uint32_t numPoints,
    float *avgVelocity, float *maxVelocity
);

#endif
```

### 3.4.3 ä¸æ ‡å‡†mmw_demoçš„å¯¹æ¯”

| æ–¹é¢ | æ ‡å‡†mmw_demo | AWRL6844_HealthDetectï¼ˆè§„åˆ’ï¼‰ |
|------|-------------|------------------------------|
| **ç›®å½•ç»“æ„** | å•å±‚ï¼ˆä»…mss/ï¼‰ | ä¸‰å±‚ï¼ˆcommon/ + mss/ + dss/ï¼‰ âœ… |
| **DSSåˆ©ç”¨** | æ— ï¼ˆ0%ï¼‰ | ç‰¹å¾æå–ï¼ˆ40%ï¼‰ âœ… |
| **å…±äº«RAM** | æœªä½¿ç”¨ | 896KBé«˜æ•ˆä½¿ç”¨ âœ… |
| **ç®—æ³•æ‰©å±•** | å›°éš¾ | æ¨¡å—åŒ–ï¼Œæ˜“æ‰©å±• âœ… |
| **ä»£ç å¤ç”¨** | ä½ | common/å±‚é«˜å¤ç”¨ âœ… |

---

## 3.5 Phase 3C: æ¥å£å®šä¹‰ä¸æ•°æ®æµè®¾è®¡

### 3.5.1 æ ¸å¿ƒæ¥å£å®šä¹‰

#### æ¥å£1: DPCæ‰©å±•æ¥å£ï¼ˆMSS â†’ DSSï¼‰

```c
// åœ¨ common/data_path.h ä¸­å®šä¹‰

// DPCé…ç½®æ‰©å±•ï¼ˆå¢åŠ å¥åº·æ£€æµ‹é…ç½®ï¼‰
typedef struct HealthDetect_DPC_Config
{
    // ç»§æ‰¿æ ‡å‡†DPCé…ç½®
    DPC_ObjectDetection_Config baseConfig;
    
    // å¥åº·æ£€æµ‹æ‰©å±•é…ç½®
    uint8_t enableFeatureExtract;  // ä½¿èƒ½ç‰¹å¾æå–
    uint8_t enableClustering;      // ä½¿èƒ½èšç±»ï¼ˆç¬¬8ç« ï¼‰
    
} HealthDetect_DPC_Config_t;
```

#### æ¥å£2: ç‰¹å¾æ•°æ®æ¥å£ï¼ˆDSS â†’ MSSï¼‰

```c
// åœ¨ common/health_detect_types.h ä¸­å®šä¹‰

// ç‰¹å¾æ•°æ®ç»“æ„ï¼ˆå·²åœ¨3.3.3èŠ‚å®šä¹‰ï¼‰
typedef struct HealthDetect_PointCloudFeatures {
    float centerX, centerY, centerZ;
    float spreadXY, spreadZ;
    float avgVelocity, maxVelocity;
    uint32_t numPoints;
    uint32_t frameNumber;
} HealthDetect_PointCloudFeatures_t;

// åœ¨å…±äº«RAMä¸­çš„å…¨å±€å®ä¾‹
extern HealthDetect_PointCloudFeatures_t gFeatureData;
```

#### æ¥å£3: åº”ç”¨å±‚ç»“æœæ¥å£ï¼ˆMSSè¾“å‡ºï¼‰

```c
// åœ¨ common/mmwave_output.h ä¸­å®šä¹‰

// å¥åº·æ£€æµ‹TLVè¾“å‡ºæ ¼å¼
#define MMWDEMO_OUTPUT_MSG_HEALTH_STATUS   1020

typedef struct {
    uint16_t type;        // 1020
    uint16_t length;      // sizeof(HealthStatus)
    
    // äººå­˜çŠ¶æ€
    uint8_t presenceState;  // PresenceState_e
    
    // å§¿æ€çŠ¶æ€
    uint8_t poseState;      // PoseState_e
    
    // è·Œå€’çŠ¶æ€
    uint8_t fallState;      // FallState_e
    
    // ç‰¹å¾æ•°æ®ï¼ˆè°ƒè¯•ç”¨ï¼‰
    float centerX, centerY, centerZ;
    float spreadXY, spreadZ;
    
} HealthStatus_TLV_t;
```

### 3.5.2 å®Œæ•´æ•°æ®æµè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¸§å¤„ç†å®Œæ•´æ•°æ®æµ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  [å¸§å¼€å§‹] - Frame Start ISR                                         â”‚
â”‚      â†“                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Step 1: MSSé…ç½®DPC (mmwave_demo_mss.c)                 â”‚      â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚      â”‚
â”‚  â”‚  1.1 å‡†å¤‡DPCé…ç½®                                         â”‚      â”‚
â”‚  â”‚  1.2 å†™å…¥å…±äº«RAMé…ç½®åŒº (DPC_CONFIG_BASE)                â”‚      â”‚
â”‚  â”‚  1.3 é€šè¿‡Mailboxé€šçŸ¥DSSå¼€å§‹å¤„ç†                          â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚      â†“ Mailbox                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Step 2: DSSæ‰§è¡ŒDPC (mmwave_demo_dss.c)                 â”‚      â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚      â”‚
â”‚  â”‚  2.1 ä»å…±äº«RAMè¯»å–é…ç½® (DPC_CONFIG_BASE)                â”‚      â”‚
â”‚  â”‚  2.2 HWAæ‰§è¡ŒFFTå’ŒCFARï¼ˆç¡¬ä»¶åŠ é€Ÿï¼‰                        â”‚      â”‚
â”‚  â”‚  2.3 è·å¾—ç‚¹äº‘æ•°æ® (Nä¸ªç‚¹)                                â”‚      â”‚
â”‚  â”‚  2.4 è°ƒç”¨ FeatureExtract_run() ğŸ”¥                       â”‚      â”‚
â”‚  â”‚      - è®¡ç®—è´¨å¿ƒ (centerX/Y/Z)                            â”‚      â”‚
â”‚  â”‚      - è®¡ç®—åˆ†å¸ƒ (spreadXY/Z)                             â”‚      â”‚
â”‚  â”‚      - è®¡ç®—é€Ÿåº¦ (avg/max Velocity)                       â”‚      â”‚
â”‚  â”‚  2.5 ç‰¹å¾æ•°æ®å†™å…¥å…±äº«RAM (FEATURE_DATA_BASE)            â”‚      â”‚
â”‚  â”‚  2.6 ç‚¹äº‘æ•°æ®å†™å…¥å…±äº«RAM (POINT_CLOUD_BASE)             â”‚      â”‚
â”‚  â”‚  2.7 é€šè¿‡Mailboxé€šçŸ¥MSSå¤„ç†å®Œæˆ                          â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚      â†“ Mailbox                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Step 3: MSSåº”ç”¨å±‚å¤„ç† (health_monitor.c)               â”‚      â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚      â”‚
â”‚  â”‚  3.1 ä»å…±äº«RAMè¯»å–ç‰¹å¾ (FEATURE_DATA_BASE)              â”‚      â”‚
â”‚  â”‚  3.2 æ‰§è¡Œäººå­˜æ£€æµ‹ PresenceDetect_run()                   â”‚      â”‚
â”‚  â”‚      â†’ åŸºäº numPoints åˆ¤æ–­æœ‰äºº/æ— äºº                      â”‚      â”‚
â”‚  â”‚  3.3 æ‰§è¡Œå§¿æ€æ£€æµ‹ PoseDetect_run()                       â”‚      â”‚
â”‚  â”‚      â†’ åŸºäº centerZ/spreadXY/spreadZ åˆ†ç±»ç«™/å/èºº/èµ°    â”‚      â”‚
â”‚  â”‚  3.4 æ‰§è¡Œè·Œå€’æ£€æµ‹ FallDetect_run()                       â”‚      â”‚
â”‚  â”‚      â†’ çŠ¶æ€æœºæ£€æµ‹å§¿æ€çªå˜                                â”‚      â”‚
â”‚  â”‚  3.5 æ ¼å¼åŒ–TLVè¾“å‡º (HealthStatus_TLV_t)                 â”‚      â”‚
â”‚  â”‚  3.6 é€šè¿‡UARTå‘é€æ•°æ®                                   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚      â†“ UART                                                         â”‚
â”‚  [PCç«¯æ¥æ”¶] - SDK Visualizer / ä¸²å£å·¥å…·                            â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ—¶åºåˆ†æï¼ˆå‡è®¾100mså¸§å‘¨æœŸï¼‰ï¼š
- Step 1ï¼ˆMSSé…ç½®ï¼‰: ~1ms
- Step 2ï¼ˆDSSå¤„ç†ï¼‰: ~20msï¼ˆFFT+CFAR+ç‰¹å¾æå–ï¼‰
- Step 3ï¼ˆMSSåº”ç”¨ï¼‰: ~5msï¼ˆè§„åˆ™åˆ†ç±»+è¾“å‡ºï¼‰
- ç©ºé—²æ—¶é—´: ~74ms
â†’ å¯æ”¯æŒæ›´é«˜å¸§ç‡æˆ–æ›´å¤æ‚ç®—æ³•
```

---

## 3.6 å®æ–½æ£€æŸ¥æ¸…å•

### 3.6.1 Phase 3Aå®Œæˆæ ‡å‡†

**DPCæœºåˆ¶ç†è§£**ï¼š
- [ ] é˜…è¯»SDKæ–‡æ¡£ï¼šDPC User Guide
- [ ] ç†è§£DPCé…ç½®ã€æ‰§è¡Œã€ç»“æœä¸‰é˜¶æ®µ
- [ ] ç†è§£Mailboxé€šä¿¡æœºåˆ¶
- [ ] ç†è§£å…±äº«RAMæ•°æ®ä¼ é€’

**InCabinæ¶æ„å­¦ä¹ **ï¼š
- [ ] é˜…è¯» `InCabin/src/common_mss_dss/data_path.h`
- [ ] é˜…è¯» `InCabin/src/common_mss_dss/shared_memory.h`
- [ ] é˜…è¯» `InCabin/src/mss/mmwave_demo_mss.c`ï¼ˆä¸»æ§é€»è¾‘ï¼‰
- [ ] é˜…è¯» `InCabin/src/dss/mmwave_demo_dss.c`ï¼ˆDSSå¤„ç†ï¼‰
- [ ] é˜…è¯» `InCabin/src/dss/feature_extract.c`ï¼ˆç‰¹å¾æå–ï¼‰
- [ ] ç†è§£InCabinä¸ºä½•å¤±è´¥ï¼Œæ¶æ„ä¸ºä½•æˆåŠŸ

**äº§å‡ºæ–‡æ¡£**ï¼š
- [ ] ã€ŠDPCæœºåˆ¶å­¦ä¹ ç¬”è®°ã€‹ï¼ˆå«æµç¨‹å›¾ï¼‰
- [ ] ã€ŠInCabinæ¶æ„åˆ†ææŠ¥å‘Šã€‹ï¼ˆå¯¹æ¯”æ ‡å‡†mmw_demoï¼‰

### 3.6.2 Phase 3Bå®Œæˆæ ‡å‡†

**ç®—æ³•éƒ¨ç½²å†³ç­–**ï¼š
- [ ] åˆ—å‡ºPhase 1æ‰€æœ‰ç®—æ³•
- [ ] å†³å®šæ¯ä¸ªç®—æ³•éƒ¨ç½²åœ¨MSSè¿˜æ˜¯DSS
- [ ] è¯´æ˜å†³ç­–ç†ç”±

**å…±äº«RAMè§„åˆ’**ï¼š
- [ ] å®Œæˆå…±äº«RAMåˆ†åŒºè®¾è®¡
- [ ] å®šä¹‰æ‰€æœ‰å…±äº«æ•°æ®ç»“æ„
- [ ] åˆ›å»º `common/shared_memory.h`

**æ¥å£å®šä¹‰**ï¼š
- [ ] å®šä¹‰DPCæ‰©å±•æ¥å£
- [ ] å®šä¹‰ç‰¹å¾æ•°æ®ç»“æ„
- [ ] å®šä¹‰TLVè¾“å‡ºæ ¼å¼
- [ ] åˆ›å»º `common/health_detect_types.h`

**äº§å‡ºæ–‡æ¡£**ï¼š
- [ ] ã€ŠDSSç®—æ³•æ‰©å±•æ¶æ„è®¾è®¡ã€‹
- [ ] ã€Šå…±äº«RAMä½¿ç”¨è§„èŒƒã€‹
- [ ] ã€Šæ¥å£å®šä¹‰æ–‡æ¡£ã€‹

### 3.6.3 Phase 3Cå®Œæˆæ ‡å‡†

**ç›®å½•ç»“æ„åˆ›å»º**ï¼š
- [ ] åˆ›å»º `AWRL6844_HealthDetect/` æ ¹ç›®å½•
- [ ] åˆ›å»º `src/common/` å¹¶æ”¾ç½®å¤´æ–‡ä»¶
- [ ] åˆ›å»º `src/mss/` å¹¶åˆ›å»ºæ¨¡å—.hæ–‡ä»¶
- [ ] åˆ›å»º `src/dss/` å¹¶åˆ›å»ºæ¨¡å—.hæ–‡ä»¶
- [ ] åˆ›å»º `profiles/` å¹¶å¤åˆ¶é…ç½®æ–‡ä»¶
- [ ] æ¯ä¸ªç›®å½•åˆ›å»º README.md

**ä»£ç æ¡†æ¶æ­å»º**ï¼š
- [ ] ä» `mmw_demo_SDK_reference` å¤åˆ¶åŸºç¡€ä»£ç åˆ° `AWRL6844_HealthDetect`
- [ ] åˆ›å»ºæ‰€æœ‰æ¨¡å—çš„ .h æ–‡ä»¶ï¼ˆç©ºå®ç°ï¼‰
- [ ] éªŒè¯å·¥ç¨‹ç¼–è¯‘é€šè¿‡ï¼ˆç©ºå‡½æ•°ï¼‰

**äº§å‡º**ï¼š
- [ ] å®Œæ•´çš„ç›®å½•ç»“æ„
- [ ] æ‰€æœ‰æ¨¡å—çš„å¤´æ–‡ä»¶å®šä¹‰
- [ ] ã€ŠAWRL6844_HealthDetectç›®å½•ç»“æ„è§„åˆ’æ–‡æ¡£ã€‹

---

## 3.7 ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç¬¬3ç« å®Œæˆå

å®Œæˆæœ¬ç« åï¼Œä½ å°†è·å¾—ï¼š
âœ… æ¸…æ™°çš„å¤šæ ¸æ¶æ„è®¾è®¡
âœ… å®Œæ•´çš„ç›®å½•ç»“æ„
âœ… æ˜ç¡®çš„ç®—æ³•éƒ¨ç½²ç­–ç•¥
âœ… è¯¦ç»†çš„æ¥å£å®šä¹‰
âœ… å¯ç¼–è¯‘çš„ä»£ç æ¡†æ¶ï¼ˆç©ºå®ç°ï¼‰

### è¿›å…¥ç¬¬4ç« 

ç¬¬4ç« å°†åŸºäºæœ¬ç« è§„åˆ’ï¼Œå¼€å§‹å®ç°ç¬¬ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼š**äººå­˜æ£€æµ‹**

**ç¬¬4ç« é¢„è§ˆ**ï¼š
- åœ¨DSSå®ç°ç®€å•ç‰¹å¾æå–ï¼ˆç‚¹äº‘æ•°é‡ç»Ÿè®¡ï¼‰
- åœ¨MSSå®ç°äººå­˜è§„åˆ™åˆ¤æ–­
- éªŒè¯DSSâ†’MSSæ•°æ®ä¼ é€’
- è¾“å‡ºç¬¬ä¸€ä¸ªå¥åº·æ£€æµ‹TLV

**å…³é”®é‡Œç¨‹ç¢‘**ï¼š
```
ç¬¬3ç« ï¼ˆè§„åˆ’ï¼‰â†’ ç¬¬4ç« ï¼ˆå®ç°ç¬¬ä¸€ä¸ªåŠŸèƒ½ï¼‰
ç©ºæ¡†æ¶      â†’  æœ‰åŸºç¡€ç‰¹å¾æå–çš„ç³»ç»Ÿ
ç†è®ºè®¾è®¡    â†’  å®é™…è¿è¡Œ
```

---

## 3.8 ç¼–è¯‘æ‰“åŒ…æœºåˆ¶è¯´æ˜ ğŸ”¥

### 3.8.1 ä¸ºä»€ä¹ˆMSSå’ŒDSSå¿…é¡»åˆ†åˆ«ç¼–è¯‘ï¼Ÿ

**åŒæ ¸å¼‚æ„æ¶æ„çš„æœ¬è´¨**ï¼š

AWRL6844åŒ…å«ä¸¤ä¸ª**å®Œå…¨ä¸åŒ**çš„å¤„ç†å™¨æ ¸å¿ƒï¼š

```
AWRL6844 SoC
â”œâ”€â”€ MSS (Microcontroller SubSystem)
â”‚   â”œâ”€â”€ CPU: ARM Cortex-R5F @ 200MHz
â”‚   â”œâ”€â”€ æŒ‡ä»¤é›†: ARMæŒ‡ä»¤é›†
â”‚   â”œâ”€â”€ ç¼–è¯‘å™¨: TI ARM Compiler (armcl)
â”‚   â””â”€â”€ å†…å­˜è§†è§’: L3 @ 0x51000000
â”‚
â””â”€â”€ DSS (DSP SubSystem)
    â”œâ”€â”€ CPU: C66x DSP @ 450MHz
    â”œâ”€â”€ æŒ‡ä»¤é›†: TI C6000æŒ‡ä»¤é›†
    â”œâ”€â”€ ç¼–è¯‘å™¨: TI C6000 Compiler (cl6x)
    â””â”€â”€ å†…å­˜è§†è§’: L3 @ 0xC0000000 (åŒä¸€å—ç‰©ç†RAM!)
```

**æ ¸å¿ƒåŸå› **ï¼š
- âŒ ä¸åŒCPUæ¶æ„ â†’ ARM vs DSP
- âŒ ä¸åŒæŒ‡ä»¤é›† â†’ å®Œå…¨ä¸å…¼å®¹
- âŒ ä¸åŒç¼–è¯‘å™¨ â†’ armcl vs cl6x
- âŒ ä¸åŒå†…å­˜æ˜ å°„ â†’ çœ‹åˆ°çš„åœ°å€ä¸åŒ

**ç»“è®º**ï¼š**ä¸å¯èƒ½ç”¨ä¸€ä¸ªç¼–è¯‘å™¨ç¼–è¯‘ä¸¤ç§ä¸åŒçš„CPUæ¶æ„ï¼**

### 3.8.2 ç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶

æ¯ä¸ªæ ¸å¿ƒè¿è¡Œ**ç‹¬ç«‹çš„å›ºä»¶é•œåƒ**ï¼š

```
çƒ§å½•åˆ°Flashåçš„å¸ƒå±€ï¼š

0x00000000 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  MSS.out         â”‚ â† R5Fæ‰§è¡Œçš„ARMä»£ç 
0x00100000 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚  DSS.out         â”‚ â† C66xæ‰§è¡Œçš„DSPä»£ç 
0x00200000 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¯åŠ¨æµç¨‹**ï¼š
```
1. ä¸Šç”µ â†’ ROM Bootloader (å›ºåŒ–åœ¨èŠ¯ç‰‡)
2. åŠ è½½MSS.outåˆ°MSSå†…å­˜ (TCMA, L3)
3. åŠ è½½DSS.outåˆ°DSSå†…å­˜ (L2, L3)
4. MSSå…ˆå¯åŠ¨ (ä¸»æ ¸)
5. MSSé€šè¿‡IPC Mailboxå”¤é†’DSS (ä»æ ¸)
6. ä¸¤ä¸ªæ ¸å¿ƒå¹¶è¡Œè¿è¡Œ
```

### 3.8.3 ä¸¤ç§ç¼–è¯‘æ–¹å¼å¯¹æ¯”

#### æ–¹å¼1: åˆ†åˆ«ç¼–è¯‘çƒ§å½•ï¼ˆå¼€å‘é˜¶æ®µï¼‰

```
CCSæ“ä½œï¼š
â”œâ”€ Build MSS Project â†’ MSS.out (ARMäºŒè¿›åˆ¶)
â”œâ”€ Build DSS Project â†’ DSS.out (DSPäºŒè¿›åˆ¶)
â””â”€ UniFlashåˆ†åˆ«çƒ§å½•
    â”œâ”€ çƒ§å½•MSS.outåˆ°åœ°å€A
    â””â”€ çƒ§å½•DSS.outåˆ°åœ°å€B

ä¼˜ç‚¹ï¼š
âœ… ç®€å•ç›´æ¥ï¼Œå¿«é€Ÿè¿­ä»£
âœ… è°ƒè¯•æ–¹ä¾¿ï¼ˆå¯ä»¥å•ç‹¬æ›´æ–°æŸä¸ªæ ¸å¿ƒï¼‰
âœ… é€‚åˆå¼€å‘é˜¶æ®µ

ç¼ºç‚¹ï¼š
âŒ éœ€è¦ä¸¤æ¬¡çƒ§å½•
âŒ å®¹æ˜“ç‰ˆæœ¬ä¸åŒ¹é…
âŒ å‘å¸ƒæ—¶éœ€è¦ç®¡ç†ä¸¤ä¸ªæ–‡ä»¶
```

#### æ–¹å¼2: ç³»ç»Ÿæ‰“åŒ…ï¼ˆå‘å¸ƒé˜¶æ®µï¼‰

```
CCSæ“ä½œï¼š
â””â”€ Build System Project
    â”œâ”€ è‡ªåŠ¨ç¼–è¯‘MSS â†’ mss.rig
    â”œâ”€ è‡ªåŠ¨ç¼–è¯‘DSS â†’ dss.rig
    â”œâ”€ æ‰“åŒ…RFå›ºä»¶ â†’ rfs.rig
    â””â”€ ç”Ÿæˆ.appimage (å•æ–‡ä»¶åŒ…å«æ‰€æœ‰)

çƒ§å½•ï¼š
â””â”€ UniFlashä¸€æ¬¡çƒ§å½•.appimage

ä¼˜ç‚¹ï¼š
âœ… ä¸€æ¬¡ç¼–è¯‘å®Œæˆ
âœ… ä¸€æ¬¡çƒ§å½•å®Œæˆ
âœ… ç‰ˆæœ¬ä¸€è‡´æ€§ä¿è¯
âœ… é€‚åˆå‘å¸ƒé˜¶æ®µ

ç¼ºç‚¹ï¼š
âŒ æ‰“åŒ…è¿‡ç¨‹è¾ƒæ…¢
âŒ è°ƒè¯•æ—¶éœ€è¦é‡æ–°æ‰“åŒ…
âŒ é…ç½®è¾ƒå¤æ‚
```

### 3.8.4 InCabinçš„ç³»ç»Ÿæ‰“åŒ…å®ç°

**system.xml - å¤šæ ¸é¡¹ç›®åè°ƒ**ï¼š

```xml
<system>
    <!-- é¡¹ç›®1: MSS -->
    <project id="project_0" name="demo_in_cabin_sensing_6844_mss">
    </project>
    <core id="Cortex_R5_0" project="project_0"/>
    
    <!-- é¡¹ç›®2: DSS -->
    <project id="project_1" name="demo_in_cabin_sensing_6844_dss">
    </project>
    <core id="C66xx_DSP" project="project_1"/>
    
    <!-- åå¤„ç†æ­¥éª¤ï¼šæ‰“åŒ…æˆ.appimage -->
    <postBuildSteps>
        <step command="$(MAKE) -f makefile_system_ccs_bootimage_gen"/>
    </postBuildSteps>
</system>
```

**çœŸç›¸**ï¼šInCabinä¹Ÿæ˜¯åˆ†åˆ«ç¼–è¯‘ï¼åªæ˜¯å¤šäº†åå¤„ç†æ‰“åŒ…æ­¥éª¤ã€‚

**.appimageæ–‡ä»¶ç»“æ„**ï¼š

```
demo_in_cabin_sensing_6844_system.release.appimage
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ Meta Header (å…ƒä¿¡æ¯)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ MSS Image (.rig)
â”‚  â”œâ”€ MSS.out (ARMä»£ç )
â”‚  â”œâ”€ åŠ è½½åœ°å€: 0x00000000
â”‚  â””â”€ å¤§å°: ~500KB
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ DSS Image (.rig)
â”‚  â”œâ”€ DSS.out (DSPä»£ç )
â”‚  â”œâ”€ åŠ è½½åœ°å€: 0x00800000
â”‚  â””â”€ å¤§å°: ~200KB
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ RF Firmware Patch
â”‚  â””â”€ é›·è¾¾å‰ç«¯å›ºä»¶
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### 3.8.5 AWRL6844_HealthDetectçš„ç¼–è¯‘ç­–ç•¥

**ğŸ”´ æ ¸å¿ƒåŸåˆ™ï¼šç³»ç»Ÿæ‰“åŒ…æ˜¯å¿…é€‰é¡¹**

æœ¬é¡¹ç›®**å¿…é¡»**å®ç°å®Œæ•´çš„ç³»ç»Ÿæ‰“åŒ…åŠŸèƒ½ï¼š

```
é¡¹ç›®é…ç½®ï¼š
â”œâ”€ mss_project.projectspec       # MSSé¡¹ç›®é…ç½®
â”œâ”€ dss_project.projectspec       # DSSé¡¹ç›®é…ç½®
â””â”€ system_project.projectspec    # ğŸ”´ ç³»ç»Ÿé¡¹ç›®é…ç½®ï¼ˆå¿…é¡»ï¼‰

ç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼š
â””â”€ src/system/
    â”œâ”€ system.xml                           # å¤šæ ¸åè°ƒé…ç½®
    â”œâ”€ makefile_system_ccs_bootimage_gen    # æ‰“åŒ…è„šæœ¬
    â””â”€ config/
        â”œâ”€ metaimage_cfg.release.json       # Releaseé…ç½®
        â””â”€ metaimage_cfg.debug.json         # Debugé…ç½®
```

**ç¼–è¯‘æµç¨‹**ï¼š

```
æ­£å¼ç¼–è¯‘ï¼ˆç³»ç»Ÿæ‰“åŒ…ï¼‰ï¼š
â””â”€ Build System Project
    â”œâ”€ è‡ªåŠ¨ç¼–è¯‘MSS â†’ health_detect_mss_img.release.rig
    â”œâ”€ è‡ªåŠ¨ç¼–è¯‘DSS â†’ health_detect_dss_img.release.rig
    â”œâ”€ å¤åˆ¶RFå›ºä»¶ â†’ mmwave_rfs_patch.rig
    â””â”€ ç”Ÿæˆ.appimage â†’ health_detect_system.release.appimage

çƒ§å½•ï¼š
â””â”€ UniFlashä¸€æ¬¡çƒ§å½• .appimage

çŠ¶æ€ï¼šğŸ”´ å¿…é¡»å®Œæˆï¼Œä¸æ˜¯å¯é€‰çš„
```

**è¾…åŠ©è°ƒè¯•ï¼ˆå¯é€‰ï¼‰**ï¼š

```
åˆ†åˆ«ç¼–è¯‘ï¼ˆä»…ä¾›å¿«é€Ÿè°ƒè¯•ï¼‰ï¼š
â”œâ”€ Build MSS Project â†’ MSS.out
â”œâ”€ Build DSS Project â†’ DSS.out
â””â”€ UniFlashåˆ†åˆ«çƒ§å½•

çŠ¶æ€ï¼šâœ… å¯ç”¨ä½œè°ƒè¯•æ‰‹æ®µï¼Œä½†ä¸ä½œä¸ºäº¤ä»˜æ–¹å¼
```

**MilestoneéªŒè¯è¦æ±‚**ï¼š

| Milestone | ç¼–è¯‘è¦æ±‚ | éªŒè¯æ ‡å‡† |
|-----------|---------|---------|
| Milestone 1 | âœ… é¡¹ç›®ç»“æ„å®Œæˆ | é…ç½®æ–‡ä»¶å°±ä½ |
| Milestone 2 | ğŸ”´ **ç³»ç»Ÿæ‰“åŒ…æˆåŠŸ** | ç”Ÿæˆ.appimageæ–‡ä»¶ |
| Milestone 3-4 | ğŸ”´ **ä½¿ç”¨.appimageæµ‹è¯•** | æ‰€æœ‰æµ‹è¯•åŸºäº.appimage |

**ä¸ºä»€ä¹ˆç³»ç»Ÿæ‰“åŒ…æ˜¯å¿…é¡»çš„ï¼Ÿ**

| åŸå›  | è¯´æ˜ |
|-----|------|
| âœ… ç‰ˆæœ¬ä¸€è‡´æ€§ | ç¡®ä¿MSSå’ŒDSSç‰ˆæœ¬åŒ¹é… |
| âœ… å‘å¸ƒæ ‡å‡† | TIå®˜æ–¹æ¨èçš„å‘å¸ƒæ–¹å¼ |
| âœ… ç”Ÿäº§éƒ¨ç½² | å·¥å‚çƒ§å½•éœ€è¦å•æ–‡ä»¶ |
| âœ… OTAå‡çº§ | æ”¯æŒæ•´ä½“å‡çº§ |
| âœ… å®Œæ•´æ€§éªŒè¯ | åŒ…å«Meta Headeræ ¡éªŒ |
| âœ… RFå›ºä»¶é›†æˆ | è‡ªåŠ¨åŒ…å«å°„é¢‘å›ºä»¶ |

**é˜¶æ®µ2ï¼šå‘å¸ƒé˜¶æ®µ**ï¼ˆå°†æ¥ï¼‰ï¼š
- âœ… æ·»åŠ  `system_project.projectspec`
- âœ… åˆ›å»º `system.xml` å’Œæ‰“åŒ…è„šæœ¬
- âœ… ç”Ÿæˆ `.appimage` å‘å¸ƒ

**å¯¹æ¯”è¡¨**ï¼š

| ç‰¹æ€§ | åˆ†åˆ«ç¼–è¯‘ | ç³»ç»Ÿæ‰“åŒ… |
|-----|---------|---------|
| ç¼–è¯‘æ¬¡æ•° | 2æ¬¡ï¼ˆæ‰‹åŠ¨ï¼‰ | 1æ¬¡ï¼ˆè‡ªåŠ¨ï¼‰ |
| è¾“å‡ºæ–‡ä»¶ | MSS.out + DSS.out | system.appimage |
| çƒ§å½•æ¬¡æ•° | 2æ¬¡ | 1æ¬¡ |
| å¼€å‘æ•ˆç‡ | é«˜ âœ… | ä½ï¼ˆæ‰“åŒ…è€—æ—¶ï¼‰ |
| å‘å¸ƒä¾¿åˆ©æ€§ | ä½ï¼ˆå¤šæ–‡ä»¶ï¼‰ | é«˜ âœ… |
| é€‚ç”¨é˜¶æ®µ | å¼€å‘ âœ… | å‘å¸ƒ âœ… |

### 3.8.6 å®æ–½å»ºè®®

**ğŸ”´ é¡¹ç›®é…ç½®è¦æ±‚**ï¼ˆæ‰€æœ‰é˜¶æ®µï¼‰ï¼š
```
AWRL6844_HealthDetect/
â”œâ”€â”€ mss_project.projectspec    â† âœ… å·²åˆ›å»º
â”œâ”€â”€ dss_project.projectspec    â† âœ… å·²åˆ›å»º
â””â”€â”€ system_project.projectspec â† ğŸ”´ å¿…é¡»åˆ›å»ºï¼ˆå·²å®Œæˆï¼‰

src/system/                     â† ğŸ”´ å¿…é¡»é…ç½®ï¼ˆå·²å®Œæˆï¼‰
â”œâ”€â”€ system.xml                  â† âœ… å¤šæ ¸åè°ƒ
â”œâ”€â”€ makefile_system_ccs_bootimage_gen â† âœ… æ‰“åŒ…è„šæœ¬
â””â”€â”€ config/
    â”œâ”€â”€ metaimage_cfg.release.json â† âœ… Releaseé…ç½®
    â””â”€â”€ metaimage_cfg.debug.json   â† âœ… Debugé…ç½®
```

**éªŒè¯æ£€æŸ¥æ¸…å•**ï¼š

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|-------|------|------|
| system_project.projectspec | âœ… | ç³»ç»Ÿé¡¹ç›®é…ç½®æ–‡ä»¶ |
| system.xml | âœ… | å¤šæ ¸åè°ƒé…ç½® |
| makefile_system_ccs_bootimage_gen | âœ… | æ‰“åŒ…è„šæœ¬ |
| metaimage_cfg.release.json | âœ… | MetaImage Releaseé…ç½® |
| metaimage_cfg.debug.json | âœ… | MetaImage Debugé…ç½® |

**Milestone 2éªŒè¯**ï¼š
1. ğŸ”´ **å¿…é¡»éªŒè¯**ï¼šåœ¨CCSä¸­Build System Project
2. ğŸ”´ **å¿…é¡»ç”Ÿæˆ**ï¼šhealth_detect_system.release.appimage
3. ğŸ”´ **å¿…é¡»æˆåŠŸ**ï¼šUniFlashçƒ§å½•.appimageæ–‡ä»¶
4. âœ… å¯é€‰ï¼šéªŒè¯åˆ†åˆ«ç¼–è¯‘ä½œä¸ºå¯¹æ¯”

**å­¦ä¹ å‚è€ƒ**ï¼š
- ğŸ“ æŸ¥çœ‹InCabinçš„ `src/system/` ç›®å½•ï¼ˆç»“æ„ç›¸åŒï¼‰
- ğŸ“„ ç ”ç©¶ `makefile_system_ccs_bootimage_gen`ï¼ˆæ‰“åŒ…åŸç†ï¼‰
- ğŸ”§ äº†è§£ `metaImage_creator` å·¥å…·ï¼ˆTIå®˜æ–¹å·¥å…·ï¼‰
- ğŸ“Š å¯¹æ¯”InCabinçš„ `metaimage_cfg.release.json`ï¼ˆé…ç½®å‚è€ƒï¼‰

---

## 3.9 å‚è€ƒèµ„æ–™

### SDKæ–‡æ¡£

| æ–‡æ¡£ | è·¯å¾„ | ç”¨é€” |
|------|------|------|
| DPC User Guide | SDK/docs/ | ç†è§£DPCæœºåˆ¶ |
| HWA User Guide | SDK/docs/ | ç†è§£ç¡¬ä»¶åŠ é€Ÿå™¨ |
| C66x DSP Guide | SDK/docs/ | DSPç¼–ç¨‹æŒ‡å— |
| MetaImage Creator Guide | SDK/tools/MetaImageGen/ | ç³»ç»Ÿæ‰“åŒ…å·¥å…· |

### é¡¹ç›®æ–‡æ¡£

| æ–‡æ¡£ | ç”¨é€” |
|------|------|
| [é™„å½•C - InCabinæ¶æ„å­¦ä¹ å‚è€ƒ](./AWRL6844é›·è¾¾å¥åº·æ£€æµ‹-é™„å½•C-InCabinæ¶æ„å­¦ä¹ å‚è€ƒ.md) | InCabinå¤šæ ¸æ¶æ„ + ç³»ç»Ÿæ‰“åŒ… |
| [é™„å½•B - SDKæºç æ¶æ„åˆ†æ](./AWRL6844é›·è¾¾å¥åº·æ£€æµ‹-é™„å½•B-SDKæºç æ¶æ„åˆ†æ.md) | æ ‡å‡†mmw_demoæ¶æ„ |
| [02-æ–¹æ¡ˆç¡®è®¤](./AWRL6844é›·è¾¾å¥åº·æ£€æµ‹-02-æ–¹æ¡ˆç¡®è®¤.md) | InCabinå¤±è´¥åŸå›  |

### çŸ¥è¯†åº“å‚è€ƒ

| æ–‡æ¡£ | ä½ç½® | ç”¨é€” |
|------|------|------|
| xWRL6432å‚è€ƒä»£ç  | `çŸ¥è¯†åº“/Pose_And_Fall_Detection/src/xWRL6432/pose.c` | å§¿æ€æ£€æµ‹ç®—æ³•å‚è€ƒ |
| 3D People Tracking | `çŸ¥è¯†åº“PDFè½¬æœºå™¨å¯è¯»æ–‡ä»¶/3D_people_tracking_*.md` | èšç±»ç®—æ³•å‚è€ƒ |

---

## ğŸ“Š ç« èŠ‚æ€»ç»“

### æœ¬ç« æ ¸å¿ƒæˆæœ

1. âœ… **ç†è§£äº†æ ‡å‡†mmw_demoçš„æ¶æ„é™åˆ¶**
   - R5Få•æ ¸è´Ÿè½½100%
   - C66x DSPå®Œå…¨é—²ç½®ï¼ˆ69%ç®—åŠ›æµªè´¹ï¼‰

2. âœ… **å­¦ä¹ äº†InCabinçš„å¤šæ ¸ååŒæ¶æ„**
   - common/ å…±äº«æ¥å£å±‚è®¾è®¡
   - MSSä¸»æ§ + DSSç®—æ³•çš„åˆ†å·¥
   - å…±äº«RAMé«˜æ•ˆæ•°æ®ä¼ é€’

3. âœ… **è®¾è®¡äº†AWRL6844_HealthDetectæ¶æ„**
   - ä¸‰å±‚æ¶æ„ï¼šcommon/ + mss/ + dss/
   - æ˜ç¡®çš„ç®—æ³•éƒ¨ç½²ç­–ç•¥
   - å®Œæ•´çš„å…±äº«RAMè§„åˆ’
   - æ¸…æ™°çš„æ¥å£å®šä¹‰

4. âœ… **è§„åˆ’äº†å®Œæ•´çš„ç›®å½•ç»“æ„**
   - å‚è€ƒInCabinçš„æœ€ä½³å®è·µ
   - æ¨¡å—åŒ–ã€æ˜“æ‰©å±•
   - ä¸ºåç»­ç« èŠ‚å¥ å®šåŸºç¡€

### æ¶æ„æ¼”è¿›å¯¹æ¯”

| æ–¹é¢ | æ ‡å‡†mmw_demo | AWRL6844_HealthDetect |
|------|-------------|----------------------|
| **R5Fè´Ÿè½½** | 100% âŒ | 60% âœ… |
| **DSSåˆ©ç”¨** | 0% âŒ | 40% âœ… |
| **ç®—åŠ›åˆ©ç”¨** | 5.3% âŒ | 85%+ âœ… |
| **ä»£ç ç»„ç»‡** | å•å±‚ âŒ | ä¸‰å±‚ âœ… |
| **ç®—æ³•æ‰©å±•** | å›°éš¾ âŒ | æ¨¡å—åŒ– âœ… |

### ä¸‹ä¸€ç« é¢„å‘Š

**ç¬¬4ç« ï¼šäººå­˜æ£€æµ‹å®ç°**
- å®ç°ç¬¬ä¸€ä¸ªDSSç‰¹å¾æå–å‡½æ•°
- éªŒè¯DSSâ†’MSSæ•°æ®ä¼ é€’
- å®Œæˆç¬¬ä¸€ä¸ªå¥åº·æ£€æµ‹åŠŸèƒ½
- æ¶æ„ä»ç†è®ºåˆ°å®è·µçš„ç¬¬ä¸€æ­¥ ğŸš€

---

> ğŸ“Œ **å…³é”®æç¤º**ï¼šç¬¬3ç« æ˜¯æ•´ä¸ªé¡¹ç›®çš„åŸºçŸ³ï¼æ¶æ„è®¾è®¡å†³å®šäº†åç»­å¼€å‘çš„é¡ºç•…ç¨‹åº¦ã€‚èŠ±æ—¶é—´ç†è§£DPCå’ŒInCabinæ¶æ„æ˜¯å€¼å¾—çš„ï¼

> ğŸ”¥ **æ ¸å¿ƒæ€æƒ³**ï¼šæ ‡å‡†mmw_demoçš„åŸºç¡€ï¼ˆå¯é ç‚¹äº‘ï¼‰+ InCabinçš„æ¶æ„æ€è·¯ï¼ˆå¤šæ ¸ååŒï¼‰= æˆ‘ä»¬çš„æˆåŠŸæ–¹æ¡ˆï¼
