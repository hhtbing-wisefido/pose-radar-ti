# 📋 AWRL6844雷达健康检测实现方案

> **目标**: 评估并实现AWRL6844平台的综合健康检测功能
> **创建日期**: 2026-01-05
> **状态**: ✅ 方案已确认，待实施

---

## 🎯 项目背景

### Wisefido综合健康检测系统

本项目是 **Wisefido老人健康检测系统** 的重要组成部分：

```
┌─────────────────────────────────────────────────────────────────┐
│              Wisefido 综合健康检测系统                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   模块一：睡眠板                   模块二：毫米波雷达             │
│   ─────────────                   ────────────────              │
│   • 放置床垫下                     • 壁挂/吸顶安装               │
│   • 检测老人呼吸心率               • 检测人存/姿态/跌倒           │
│   • 高精度生命体征                 • 房间全覆盖监测               │
│                                                                 │
│                    ↓                                            │
│              综合健康监测平台                                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 评估目标

评估 **AWRL6844** 是否能实现以下功能：
- 人存检测（Presence Detection）
- 姿态检测（Pose Detection）
- 跌倒检测（Fall Detection）
- 呼吸检测（Breathing Detection）
- 心率检测（Heart Rate Detection）

---

## 📂 文档结构

| 阶段 | 文档 | 状态 | 说明 |
|------|------|------|------|
| **评估** | [00-能力评估报告](./AWRL6844雷达健康检测-00-能力评估报告.md) | ✅ 已完成 | 芯片能力边界评估 |
| **Step 1** | [01-方案讨论与分析](./AWRL6844雷达健康检测-01-方案讨论与分析.md) | ✅ 已完成 | 3种技术路线对比 |
| **Step 2** | [02-方案确认](./AWRL6844雷达健康检测-02-方案确认.md) | 🔄 已修订 | 方案A→方案B调整 |
| **Step 3** | [03-实施目录大纲](./AWRL6844雷达健康检测-03-实施目录大纲.md) | 🔄 已重写 | 基于标准Demo v2.0 |
| | [03-实施目录大纲-InCabin版本（已废弃）](./AWRL6844雷达健康检测-03-实施目录大纲-InCabin版本（已废弃）.md) | 📦 已归档 | InCabin版本 v1.0 |
| **硬件配置** | [设备安装信息](./AWRL6844雷达健康检测-设备安装信息.md) | ✅ 已完成 | 实际安装配置详情 |
| **第1章** | [04-第1章-环境搭建](./AWRL6844雷达健康检测-04-第1章-环境搭建.md) | ✅ 已完成 | 环境验证通过 |
| | [04-1.6配置文件加载测试报告](./AWRL6844雷达健康检测-04-第1章-环境搭建%201.6配置文件加载测试报告.md) | ✅ 已完成 | InCabin测试失败记录 |
| **附录A** | [附录A-配置文件对比分析](./AWRL6844雷达健康检测-附录A-配置文件对比分析.md) | ✅ 已完成 | 配置参数详细对比 |
| **附录B** | [附录B-SDK源码架构分析](./AWRL6844雷达健康检测-附录B-SDK源码架构分析.md) | ✅ 已完成 | mmw_demo深度解析 |
| **附录C** | [附录C-InCabin架构学习参考](./AWRL6844雷达健康检测-附录C-InCabin架构学习参考.md) | ✅ 已完成 | InCabin Demo分析 |
| **附录D** | [附录D-CCS与VSCode开发对比](./AWRL6844雷达健康检测-附录D-CCS与VSCode开发对比.md) | ✅ 已完成 | 开发环境选型分析 |
| **附录E** | [附录E-设备安装配置信息](./AWRL6844雷达健康检测-附录E-设备安装配置信息.md) | ✅ 已完成 | 硬件安装详情 |
| **附录F** | [附录F-TLV数据格式兼容性要求](./AWRL6844雷达健康检测-附录F-TLV数据格式兼容性要求.md) | ✅ 已完成 | 🔴 TLV格式规范（关键） |
| | [TLV数据格式快速参考](./TLV数据格式快速参考.md) | ✅ 已完成 | 快速查阅表 |
| **附录G** | [附录G-雷达配置文件对比分析](./附录G-雷达配置文件对比分析.md) | ✅ 已完成 | InCabin vs mmw_demo配置对比 |

---

## 📊 评估结论概要

| 功能 | AWRL6844支持 | SDK现状 | 推荐 |
|------|-------------|---------|------|
| **人存检测** | ✅ 完全支持 | ✅ 已有 | ✅ 推荐 |
| **姿态检测** | ✅ 完全支持 | ⚠️ 需开发 | ✅ 推荐 |
| **跌倒检测** | ✅ 完全支持 | ⚠️ 需开发 | ✅ 推荐 |
| **呼吸检测** | ⚠️ 理论支持 | ❌ 无现成 | ⚠️ 可研究 |
| **心率检测** | ❌ 有限支持 | ❌ 无现成 | ❌ 不推荐 |

> 📚 详细评估请参阅 [能力评估报告](./AWRL6844雷达健康检测-00-能力评估报告.md)

---

## 📖 实施章节概览（v2.0 - 基于标准Demo）

> ⚠️ **重要更新（2026-01-07）**：原计划基于InCabin Demo扩展（方案A），实战中遇到无法克服的技术障碍。  
> 已切换为**基于标准mmwave_demo扩展（方案B）**，实施大纲已重新规划。

| Phase | 章节 | 内容 | 状态 |
|-------|------|------|------|
| **1A** | 第1章 | 环境搭建 | ✅ 已完成 |
| | 第2章 | 标准Demo验证 | ✅ 已完成 |
| | 第3章 | 人存检测实现 | ⏱️ 预计2天 |
| | 第4章 | 姿态检测实现 | ⏱️ 预计3天 |
| | 第5章 | 跌倒检测实现 | ⏱️ 预计2天 |
| **1B** | 第6章 | 杂波移除优化 | ⏱️ 预计1天 |
| | 第7章 | 多目标处理 | ⏱️ 预计1天 |
| **2** | 第8章 | 区域划分 | ⏱️ 预计2天 |
| | 第9章 | 呼吸检测研究 | ⏱️ 预计1周 |
| | 第10章 | 综合测试 | ⏱️ 预计3天 |
---

## 🔄 方案调整说明

### 为什么从方案A切换到方案B？

**原方案A（InCabin Demo扩展）遇到的问题**：
1. 🔴 **相位校准缺失** - InCabin需要天线相位校准，需DCA1000硬件或mmWave Studio深度学习
2. 🔴 **5次测试均失败** - 无法获得任何点云数据（Detection Points = 0）
3. 🔴 **TLV格式不兼容** - InCabin使用专有TLV格式，SDK Visualizer无法识别
4. 🔴 **场景适配性未知** - InCabin设计用于车内，与室内养老场景差异大

**新方案B（标准Demo扩展）的优势**：
1. ✅ **已验证可用** - 标准Demo固件烧录成功，点云数据正常
2. ✅ **无额外硬件** - 不需要DCA1000或复杂校准
3. ✅ **工具兼容性好** - SDK Visualizer完美支持
4. ✅ **成功率高** - 85%以上（vs 方案A的40%）

**详细分析**：
- 📄 [02-方案确认 - 方案修订章节](./AWRL6844雷达健康检测-02-方案确认.md#3-方案修订2026-01-07)
- 📄 [InCabin方案实战失败全面诊断](../../2-开发记录/2026-01-07/2026-01-07_InCabin方案实战失败全面诊断.md)

---

## 📁 可用资源人存检测验证"改为"标准Demo验证"
- ⭐ 第3章：新增"人存检测实现"（需自行开发）
- 🔄 第4-5章：姿态和跌倒检测顺延

---

## 📁 可用资源

### 现有数据集

```
知识库/Pose_And_Fall_Detection/retraining_resources/dataset/classes/
├── falling/   (24个CSV文件)
├── lying/     (6个CSV文件)
├── sitting/   (9个CSV文件)
├── standing/  (8个CSV文件)
└── walking/   (5个CSV文件)
```

用于特征提取参考、模型训练、算法验证。

### 项目代码目录

```
project-code/AWRL6844_HealthDetect/
├── README.md                     # 项目说明
├── src/                          # 源代码目录（待开发）
├── lib/                          # 依赖库
├── radar_config_file/            # 雷达配置文件 ⭐
│   ├── README.md                 # 配置文件说明
│   ├── profile_health.cfg        # 健康检测专用配置
│   └── zone_default.cfg          # 区域默认配置
└── docs/                         # 项目文档
```

### 相关文档

| 资源 | 路径 | 说明 |
|------|------|------|
| **配置参数研究** | `05-雷达配置参数研究/` | 配置文件详细分析 |
| **SDK固件研究** | `06-SDK固件研究/` | SDK架构分析 |
| **实测结果** | `../4-测试实验结果/` | 烧录和配置测试结果 |

---

> 📅 **更新日期**: 2026-01-08
