# 📋 AWRL6844雷达健康检测-00-能力评估报告

> **目标**: 评估AWRL6844实现综合健康检测的能力边界
> **评估日期**: 2026-01-05
> **修订日期**: 2026-01-05（根据讨论修正）
> **状态**: ✅ 已完成

---

## 1. 评估背景

### 1.1 项目需求

Wisefido综合健康检测系统需要毫米波雷达模块实现：

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 人存检测 | 检测房间是否有人 | P0 必需 |
| 人数统计 | 统计房间内人数 | P1 期望 |
| 姿态检测 | 识别站/坐/躺/走/跌倒 | P0 必需 |
| 跌倒检测 | 实时检测跌倒事件并告警 | P0 必需 |
| 静态杂波抑制 | 识别并排除固定家具 | P0 必需 |
| 背景学习 | 自动学习房间环境 | P1 期望 |
| 呼吸检测 | 检测呼吸频率 | P1 期望 |
| 心率检测 | 检测心率 | P2 可选 |

### 1.2 评估平台

| 项目 | 规格 |
|------|------|
| **芯片型号** | AWRL6844 |
| **天线配置** | 4TX 4RX（16虚拟天线） |
| **频段** | 57-64GHz (60GHz) |
| **MCU** | R5F @ 200MHz + C66x DSP @ 450MHz |
| **内存** | 2.5MB |
| **定位** | 汽车车内应用（Automotive InCabin） |

### 1.3 应用场景对比

| 因素 | 车内场景（TI原设计） | Wisefido室内场景 | 影响 |
|------|---------------------|-----------------|------|
| **环境振动** | 有（发动机、路面） | 几乎无 | **室内更好** ✅ |
| **背景噪声** | 高 | 低（安静） | **室内更好** ✅ |
| **目标状态** | 可能活动 | 老人常静止 | **室内更好** ✅ |
| **检测距离** | 0.5-2m | 0.5-6m | 室内稍难 ⚠️ |
| **多径干扰** | 复杂（金属车身） | 较少 | **室内更好** ✅ |

**结论**：室内环境比车内更有利于检测，尤其是微弱的生命体征信号！

---

## 2. TI官方支持的应用场景

根据 **AWRL6844规格书** 第2节"应用"，TI官方明确支持：

```
AWRL6844 官方应用场景：
├── ✅ 车内感应 (In-Cabin Sensing)
├── ✅ 车内儿童检测 (Child Presence Detection)
├── ✅ 车辆乘员检测、定位和分类 (Occupant Detection, Localization, Classification)
├── ✅ 车辆乘员生命体征监测 (Occupant Vital Signs Monitoring) ← 官方提及！
├── ✅ 入侵者检测 (Intruder Detection)
├── ✅ 安全带提醒装置 (Seatbelt Reminder)
└── ✅ 基于手势的HMI (Gesture-based HMI)
```

**关键发现**：TI规格书明确提及"生命体征监测"，说明硬件层面支持。

---

## 3. SDK/Toolbox现状分析

### 3.1 AWRL6844可用的SDK资源

| 资源 | 位置 | 功能 |
|------|------|------|
| **InCabin Demo** | Radar Toolbox | 人存、占用、入侵检测 |
| **CNN分类器** | InCabin Demo | 深度学习推理 |
| **Capon 2D** | InCabin Demo | 高精度AoA估计 |
| **mmwave_demo** | MMWAVE_L_SDK | 基础点云检测 |

### 3.2 Vital Signs（生命体征）SDK支持情况

| 芯片 | Vital Signs Demo | 备注 |
|------|-----------------|------|
| IWR6843 | ✅ 有 | 工业级，支持呼吸+心率 |
| IWRL6432 | ✅ 有 | 工业级，支持呼吸+心率 |
| **AWRL6844** | ❌ **无** | 汽车级，无官方Demo |

**关键问题**：TI未为AWRL6844提供Vital Signs官方Demo！

### 3.3 原因分析

| 因素 | AWRL6844 (车载) | IWR6843 (工业) |
|------|----------------|----------------|
| **目标场景** | 车内（有振动） | 室内（静止环境） |
| **主要用途** | 检测/分类 | 生命体征监测 |
| **环境噪声** | 高（发动机、路面） | 低 |
| **产品定位** | 安全检测为主 | 健康监测为主 |

---

## 4. 各功能能力评估

### 4.1 人存检测 ✅ 完全支持

| 评估项 | 结果 |
|--------|------|
| **硬件支持** | ✅ 完全支持 |
| **SDK支持** | ✅ InCabin Demo已有 |
| **算法复杂度** | 低 |
| **实现难度** | ⭐ 简单 |
| **推荐** | ✅ **强烈推荐** |

**实现方式**：直接使用InCabin Demo的occupancyClassifier或intrusionDetection。

---

### 4.2 姿态检测 ✅ 完全支持

| 评估项 | 结果 |
|--------|------|
| **硬件支持** | ✅ 完全支持 |
| **SDK支持** | ⚠️ 需从xWRL6432移植 |
| **算法复杂度** | 中等 |
| **实现难度** | ⭐⭐⭐ 中等 |
| **推荐** | ✅ **推荐** |

**实现方式**：
- 参考xWRL6432 Pose & Fall Detection
- 利用InCabin Demo的cnn_classifier库
- 移植pose.c姿态分类逻辑

**5类姿态**：站立、坐、躺、走、跌倒

---

### 4.3 跌倒检测 ✅ 完全支持

| 评估项 | 结果 |
|--------|------|
| **硬件支持** | ✅ 完全支持 |
| **SDK支持** | ⚠️ 需从xWRL6432移植 |
| **算法复杂度** | 中等 |
| **实现难度** | ⭐⭐⭐ 中等 |
| **推荐** | ✅ **推荐** |

**实现方式**：
- 基于姿态检测结果
- 检测"非躺→躺"的快速变化
- 状态机确认跌倒事件

**目标指标**：
- 检测率 ≥95%
- 误报率 <5%
- 响应时间 <500ms

---

### 4.4 呼吸检测 ⚠️ 理论支持

| 评估项 | 结果 |
|--------|------|
| **硬件支持** | ⚠️ 理论上支持 |
| **SDK支持** | ❌ 无现成Demo |
| **算法复杂度** | **高** |
| **实现难度** | ⭐⭐⭐⭐ 困难 |
| **推荐** | ⚠️ **可作为研究课题** |

**技术分析**：

```
呼吸信号特征：
├── 胸腔起伏幅度：1-5mm
├── 呼吸频率：12-20次/分钟 (0.2-0.33Hz)
├── 检测原理：相位变化 → 微小位移
└── 关键挑战：
    ├── 需要目标相对静止
    ├── 需要高精度相位提取算法
    └── 环境杂波干扰
```

**可行性评估**：
- 目标静止时：**可行**（成功率60-80%）
- 目标活动时：**困难**（成功率<30%）

**如需实现**：
1. 参考IWR6843 Vital Signs算法思路
2. 需自研相位提取和信号处理算法
3. 预计研发周期：2-4周

---

### 4.5 心率检测 ❌ 有限支持

| 评估项 | 结果 |
|--------|------|
| **硬件支持** | ⚠️ 边缘能力 |
| **SDK支持** | ❌ 无 |
| **算法复杂度** | **极高** |
| **实现难度** | ⭐⭐⭐⭐⭐ 极困难 |
| **推荐** | ❌ **不推荐** |

**技术分析**：

```
心率信号特征：
├── 心跳引起的体表振动：0.1-0.5mm（极微弱！）
├── 心率频率：60-100次/分钟 (1-1.7Hz)
├── 信号强度：比呼吸信号弱5-10倍
└── 关键挑战：
    ├── 信号极其微弱，淹没在噪声中
    ├── 需要极高精度相位测量
    ├── 受呼吸信号干扰（需分离）
    └── 对环境要求极高
```

**可行性评估**：
- 理想条件下：**可能**（成功率20-40%）
- 实际应用中：**不可靠**

**建议**：
- ❌ 不建议用AWRL6844做心率检测
- ✅ 使用睡眠板做心率检测（更可靠）

---

## 5. 综合评估结论

### 5.1 能力矩阵

```
┌─────────────────────────────────────────────────────────────────┐
│           AWRL6844 健康检测能力评估矩阵                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  功能        硬件支持   SDK支持   难度    推荐度                 │
│  ────────    ────────   ───────   ────    ──────                │
│  人存检测    ✅ 完全    ✅ 已有   ⭐      ✅✅✅                  │
│  姿态检测    ✅ 完全    ⚠️ 需移植  ⭐⭐⭐   ✅✅✅                  │
│  跌倒检测    ✅ 完全    ⚠️ 需移植  ⭐⭐⭐   ✅✅✅                  │
│  呼吸检测    ⚠️ 理论    ❌ 无     ⭐⭐⭐⭐  ⚠️ 可选                │
│  心率检测    ❌ 有限    ❌ 无     ⭐⭐⭐⭐⭐ ❌ 不推荐              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 5.2 推荐功能范围

**AWRL6844雷达应实现的功能**：

| 优先级 | 功能 | 说明 |
|--------|------|------|
| **P0 必需** | 人存检测 | 直接可用 |
| **P0 必需** | 姿态检测 | 需移植开发 |
| **P0 必需** | 跌倒检测 | 需移植开发 |
| **P1 可选** | 呼吸检测 | 可作为后续研究 |
| **P2 放弃** | 心率检测 | 由睡眠板承担 |

### 5.3 系统分工建议

```
┌─────────────────────────────────────────────────────────────────┐
│              Wisefido 最终功能分工                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   AWRL6844雷达负责：              睡眠板负责：                   │
│   ──────────────────              ────────────                  │
│   ✅ 人存检测（房间级）            ✅ 呼吸检测（高精度）          │
│   ✅ 姿态检测（5类）               ✅ 心率检测（高精度）          │
│   ✅ 跌倒检测（实时告警）          ✅ 睡眠质量分析                │
│   ✅ 活动区域追踪                  ⚠️ 仅限床上监测               │
│   ✅ 房间全覆盖                                                 │
│                                                                 │
│   互补优势：                                                     │
│   ├── 雷达：覆盖全房间，检测活动状态                            │
│   └── 睡眠板：高精度生命体征，专注床上监测                       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 6. 用户讨论问题汇总

> 📝 本节记录评估过程中用户提出的关键问题和解答。

### 6.1 车载级 vs 工业级的问题

**用户问题**：
> "车载级比工业级更高级吧？6844比6843精度更高？为什么反而6843有Vital Signs SDK而6844没有？"

**解答**：

| 对比项 | AWRL6844 (车载级) | IWR6843 (工业级) |
|--------|------------------|-----------------|
| **等级定位** | 不是"更高级"，是**不同定位** | 面向工业/消费应用 |
| **环境认证** | 更严格 (-40°C~140°C) | 标准 (-40°C~105°C) |
| **硬件精度** | 基本相同 | 基本相同 |
| **主要差异** | **软件/SDK重点不同！** | 专注生命体征监测 |

**根本原因**：
```
TI的产品策略：
├── AWRL6844 → 车内场景 → SDK侧重检测/分类 → 无Vital Signs
├── IWR6843 → 工业/消费 → SDK侧重健康监测 → 有Vital Signs
└── 硬件能力≈相同，软件支持≠相同
```

---

### 6.2 室内 vs 车内环境的问题

**用户问题**：
> "室内比车内更安静，检测应该更容易吧？"

**解答**：✅ **完全正确！**

| 环境因素 | 车内 | 室内（Wisefido场景） |
|---------|------|---------------------|
| 发动机振动 | ❌ 严重干扰 | ✅ 无 |
| 路面振动 | ❌ 持续存在 | ✅ 无 |
| 环境噪声 | ❌ 复杂多变 | ✅ 相对安静 |
| 目标距离 | 0.5-1.5m | 1-5m（可控） |
| 目标状态 | 坐姿为主 | 多姿态 |

**修正后的评估**：

```
呼吸检测成功率估计：
├── 官方IWR6843（理想条件）: 95%+
├── AWRL6844车内场景（TI未支持的原因）: 40-60%
├── AWRL6844室内场景（Wisefido）: 70-90% ← 更乐观！
│   └── 原因：环境更安静、目标可能静止（床上）
└── 结论：室内场景确实更有利于尝试呼吸检测
```

**建议调整**：将呼吸检测从"不推荐"调整为"**可作为Phase 2研究**"。

---

### 6.3 人数统计功能归属问题

**用户问题**：
> "识别人数属于哪个检测功能？"

**解答**：

人数统计是**独立功能**，与人存检测不同：

| 功能 | 输出 | 复杂度 | SDK支持 |
|------|------|--------|---------|
| **人存检测** | 有人/无人 (0/1) | 低 | ✅ 直接可用 |
| **人数统计** | N个人 (0,1,2,3...) | 高 | ⚠️ 需开发 |
| **人员追踪** | 位置+ID | 很高 | ⚠️ 需开发 |

**InCabin Demo现状**：
- `intrusionDetection`: 侧重有/无，分区域检测
- `occupancyClassifier`: 侧重分类，但主要是车内座位级别

**如需精确人数统计**：
- 需要点云聚类 + 多目标追踪
- 可参考3D People Tracking Demo
- 工作量：额外1-2周

**建议**：先实现基本功能，人数统计作为**P2扩展功能**。

---

### 6.4 静态物体识别/背景学习

**用户问题**：
> "有没有自动识别屋内固定物品的功能？让系统自动学习哪些是家具、墙壁等静态物体。"

**解答**：

分为两个层面：

| 功能 | 现状 | 说明 |
|------|------|------|
| **静态杂波移除 (Clutter Removal)** | ✅ **已有** | MTI滤波器，移除静止物体回波 |
| **背景学习/建模** | ❌ 需开发 | 自动学习房间结构 |

**InCabin Demo已有功能**：
```
CLI命令: clutterRemoval 1
功能: 开启Moving Target Indication
效果: 过滤静态物体，只检测运动目标
原理: 比较连续帧，移除不变的回波
```

**背景学习（需开发）**：
```
功能设想：
├── 启动时空房间采集（无人状态）
├── 记录所有静态回波位置和强度
├── 形成"房间背景模型"
├── 运行时自动减去背景
└── 好处：更精确的静态杂波识别
```

**建议**：
- P0阶段：使用现有`clutterRemoval`
- P1阶段：可考虑开发简单背景学习功能

---

## 8. 风险与应对

| 风险 | 概率 | 影响 | 应对措施 |
|------|------|------|---------|
| 姿态分类精度不达标 | 中 | 高 | 参考xWRL6432成熟算法，充分测试 |
| 跌倒误报率过高 | 中 | 高 | 优化状态机参数，增加确认时间 |
| 呼吸检测不可靠 | 高 | 中 | 作为可选功能，优先用睡眠板 |
| CNN模型不兼容 | 低 | 高 | InCabin已有cnn_classifier可用 |

---

## 9. 评估结论

### 9.1 总体结论

**AWRL6844可以作为Wisefido健康检测系统的雷达模块**，但应聚焦于：

1. ✅ **人存检测** - 直接可用
2. ✅ **姿态检测** - 移植xWRL6432算法
3. ✅ **跌倒检测** - 移植xWRL6432算法

生命体征检测（呼吸/心率）应由**睡眠板**承担。

### 9.2 项目重新定位

| 原定位 | 新定位 |
|--------|--------|
| AWRL6844跌倒检测 | **AWRL6844雷达健康检测**（人存+姿态+跌倒） |
| 单一功能 | **综合功能模块** |

### 9.3 预计工期

| 功能 | 工期 |
|------|------|
| 人存检测 | 0.5天（直接使用） |
| 姿态检测 | 3天 |
| 跌倒检测 | 2天 |
| 联调测试 | 2天 |
| **总计** | **7.5天** |

---

> ✅ **评估完成**
> 📌 **下一步**: [AWRL6844雷达健康检测-01-方案讨论与分析](./AWRL6844雷达健康检测-01-方案讨论与分析.md)
> 📅 **评估日期**: 2026-01-05
