# ✅ SBL烧录成功完整记录

**日期**: 2025-12-19  
**测试文件**: sbl.release.appimage  
**烧录地址**: 0x2000 (8192)  
**文件大小**: 71456 字节

---

## 📋 测试命令

```bash
arprog_cmdline_6844.exe -p COM3 -f1 "..\1-SBL_Bootloader\sbl.release.appimage" -of1 8192 -s SFLASH -c
```

**命令参数解析**：
- `-p COM3` - 串口号
- `-f1 <file>` - 第一个固件文件
- `-of1 8192` - 烧录偏移地址（十进制）
- `-s SFLASH` - 目标存储（SPI Flash）
- `-c` - 发送break信号初始化连接

---

## 🎯 完整烧录输出

### 初始化阶段
```
SW version: 0.8
Meta Image offset not specified
Connecting Com Port....
connect to device
INFO : Port Opened
set break signal
--- please restart the device ---
connection succeeded
INFO : Port Opened
INFO: Send start download command
close command
downloading [8192] and size [71456]
INFO : Port Opened
INFO: Send start download command
```

### 进度条输出（完整，无跳跃）

**总行数**: 307行进度条  
**进度模式**: 每行递增显示，完全连续，无任何跳跃

```
[>                                        ]  ← 第1行
[>                                        ]
[>                                        ]
[>                                        ]
[>                                        ]
[>                                        ]
[>                                        ]
[=>                                       ]  ← 第8行，进度递增
[=>                                       ]
...（中间省略）
[=====================================>   ]
[=====================================>   ]
[=====================================>   ]
[======================================>  ]
[======================================>  ]
[======================================>  ]
[======================================>  ]
[======================================>  ]
[======================================>  ]
[=======================================> ]
[=======================================> ]
[=======================================> ]
[=======================================> ]
[=======================================> ]
[=======================================> ]
[=======================================> ]
[========================================>]  ← 第307行，100%
```

### 完成阶段
```
 Done Metaimage: 0
disconnecting device....
```

---

## 📊 进度特征分析

### 1. 进度条格式
- **总宽度**: 40字符（不含方括号）
- **格式**: `[====>                                    ]`
- **符号**: 
  - `=` 表示已完成
  - `>` 表示当前位置
  - 空格表示未完成

### 2. 进度递增规律

| 进度范围 | 符号 | 大约行数 | 说明 |
|---------|------|---------|------|
| 0-2% | `[>` | 7行 | 起始阶段 |
| 2-5% | `[=>` | 7行 | 缓慢递增 |
| 5-7% | `[==>` | 8行 | |
| 7-10% | `[===>` | 7行 | |
| ... | ... | ... | 每个等号持续7-8行 |
| 95-97% | `[=====================================>` | 7行 | |
| 97-100% | `[======================================>` | 7行 | |
| 100% | `[========================================>]` | 1行 | 完成 |

### 3. 关键特征 ⭐

✅ **完全连续，无跳跃**
- 307行进度条，每一行都显示
- 没有任何百分比跳跃
- 证明烧录工具输出稳定、连续

✅ **均匀分布**
- 每个进度符号平均约7-8行
- 进度递增速度均匀
- 烧录速度稳定

✅ **实时输出**
- PowerShell的`Tee-Object`成功捕获所有输出
- 没有缓冲延迟
- 每行都被正确记录

---

## ⏱️ 性能数据

- **总进度行数**: 307行
- **预估烧录时间**: 约10-15秒（基于之前测试）
- **平均速度**: 约20-30行/秒
- **文件大小**: 71KB

---

## ✅ 结论

1. **命令格式100%正确**：`-p COM3 -f1 <file> -of1 8192 -s SFLASH -c`
2. **进度输出完整连续**：307行，无任何跳跃
3. **烧录成功**：`Done Metaimage: 0`
4. **可重复性强**：操作流程清晰，结果稳定

---

## 🔄 可重复操作步骤

1. **硬件准备**：
   - 确认SOP开关 [0 0]（烧录模式）
   - 插拔USB或按RESET按钮

2. **执行命令**：
   ```bash
   cd "3-Tools"
   .\arprog_cmdline_6844.exe -p COM3 -f1 "..\1-SBL_Bootloader\sbl.release.appimage" -of1 8192 -s SFLASH -c
   ```

3. **观察输出**：
   - 看到 "--- please restart the device ---"（如果设备未复位）
   - 按RESET按钮
   - 进度条开始显示
   - 看到 "Done Metaimage: 0" 表示成功

---

**日志文件**: `temp/sbl_flash_log.txt`
