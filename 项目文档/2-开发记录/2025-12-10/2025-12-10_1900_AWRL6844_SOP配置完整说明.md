# AWRL6844 SOP 启动模式配置完整说明

**文档日期**: 2025-12-10  
**来源文档**: 
- `AWRL6844EVM-规格书swru630a.md`
- `AWRL6844-IWRL6844 评估模块zhcuco8.md`

---

## 📋 SOP 模式配置表

根据官方文档 **Table 3-2. SOP settings** 和 **表 2-1. SOP 设置**：

| SOP 模式 | 用途 | S7/S8 开关设置 | 说明 |
|---------|------|---------------|------|
| **SOP_MODE1** | 器件管理模式 / **QSPI 刷写模式** | **00** | 用于烧录固件到 Flash |
| **SOP_MODE2** | **应用模式 / 功能模式** | **01** | 正常运行模式（从 Flash 启动）|
| **SOP_MODE4** | 调试模式 / 开发模式 | **11** | 开发和评估模式 |

---

## 🔧 关键配置说明

### SOP 开关位置
- **开关标识**: S7 和 S8
- **位置**: 参见 Figure 3-10 / 图 2-10

### 配置步骤（重要！）

1. **先设置 SOP 开关**（S7、S8）到正确位置
2. **必须按 nRESET 按钮**，才能使 SOP 设置生效
3. SOP 配置在上电时锁存，必须复位才能改变

---

## ⚡ 常用模式详解

### 1️⃣ Flash 烧录模式（SOP_MODE1 = 00）

**何时使用**：
- 通过 Uniflash 烧录固件到 QSPI Flash
- 首次烧录或更新固件

**开关设置**：
```
S7/S8 = 00
```

**操作流程**：
1. 设置开关为 00
2. 按 nRESET 复位
3. 连接 Uniflash 
4. 烧录 `.appimage` 文件到 Flash

---

### 2️⃣ 功能模式（SOP_MODE2 = 01）⭐

**何时使用**：
- 固件已烧录到 Flash
- 正常运行应用程序
- **这是最常用的模式**

**开关设置**：
```
S7/S8 = 01
```

**操作流程**：
1. 设置开关为 01
2. 按 nRESET 复位
3. 设备从 QSPI Flash 启动应用程序

---

### 3️⃣ 开发模式（SOP_MODE4 = 11）

**何时使用**：
- 使用 mmWave Studio 进行 RF 评估
- 调试和开发

**开关设置**：
```
S7/S8 = 11
```

**操作流程**：
1. 设置开关为 11
2. 按 nRESET 复位
3. 连接 mmWave Studio
4. 通过 RS232 下载固件到 RAM 运行

---

## 📝 重要注意事项

### ⚠️ SOP 设置必须要求

1. **修改 SOP 后必须按 nRESET**
   - SOP 值在上电时锁存
   - 不复位则配置不生效

2. **开关编号说明**
   - 00 = 两个开关都设为 OFF（或特定位置）
   - 01 = S7=OFF, S8=ON（或对应位置）
   - 11 = 两个开关都设为 ON（或特定位置）
   - **具体的 ON/OFF 对应位置请参考 EVM 板上的标识**

3. **与其他开关的配合**
   - S1 滑动开关：控制外设接口连接
   - S4 滑动开关：控制其他数字接口
   - 详见文档中的 Table 3-3 和 Table 3-4

---

## 🎯 快速参考

### 场景 1：首次烧录固件
```
1. SOP 开关 = 00 (QSPI 刷写模式)
2. 按 nRESET
3. 使用 Uniflash 烧录 appimage
```

### 场景 2：运行已烧录的程序
```
1. SOP 开关 = 01 (功能模式)
2. 按 nRESET
3. 程序从 Flash 自动启动
```

### 场景 3：RF 调试和评估
```
1. SOP 开关 = 11 (调试模式)
2. 按 nRESET
3. 使用 mmWave Studio 加载固件到 RAM
```

---

## 📚 相关文档

- **AWRL6844EVM User's Guide** (swru630a.pdf)
- **xWRL6844 Evaluation Module** (zhcuco8.pdf)
- **xWRL68xx Technical Reference Manual**

---

## ✅ 总结

对于 **AWRL6844 固件烧录**，标准流程为：

1. **烧录阶段**：SOP = 00（QSPI 刷写模式）
2. **运行阶段**：SOP = 01（功能模式）
3. **开发调试**：SOP = 11（调试模式）

**每次更改 SOP 后都必须按 nRESET 按钮！**
