# 📦 项目迁移总结 - 2026-01-06

> 本文档记录项目从中文路径迁移到纯英文路径的完整过程，以便后续开发保持连续性。

---

## 🎯 迁移背景

### 问题发现
在使用 CCS (Code Composer Studio) 编译 AWRL6844 InCabin Demo 时，发现 **TI 编译器无法处理中文路径**：
- Include 路径找不到头文件
- 编译器报告路径错误
- 尽管 VS Code 可以正常读取文件，但 TI ARM/C6000 编译器不支持

### 原始路径问题
```
D:\7.项目资料\Ti雷达项目\
   ↑         ↑
   中文字符    中文字符
```

---

## 📂 迁移详情

### 路径变更

| 项目 | 原路径 | 新路径 |
|-----|-------|--------|
| **项目根目录** | `D:\7.项目资料\Ti雷达项目` | `D:\7.project\TI_Radar_Project` |
| **InCabin Demo** | `项目文档\3-固件工具\08-...\AWRL6844_InCabin_Demos` | `project-code\AWRL6844_InCabin_Demos` |
| **CCS 导入路径** | - | `D:\7.project\TI_Radar_Project\project-code\AWRL6844_InCabin_Demos\src` |

### 迁移操作

1. ✅ 使用 `robocopy` 复制整个项目（保留 Git 历史）
2. ✅ 将 `AWRL6844_InCabin_Demos` 移动到 `project-code/` 目录
3. ✅ 更新所有文档中的路径引用
4. ✅ 删除临时编译目录 `D:\TI_Radar_Project`

---

## 🔧 关键修复记录

### 1. API 不兼容问题

**问题**：Radar Toolbox 3.30 的 InCabin Demo 使用 2 参数 API，但 SDK 06.01.00.01 需要 3 参数

**文件**：`project-code/AWRL6844_InCabin_Demos/src/mss/mmwave_demo_mss.c`

**位置**：第 1314 行

**原代码**：
```c
MMWave_FecssDevClockCtrl(&cfg, &errCode);
```

**修复后**：
```c
MMWave_FecssDevClockCtrl(&cfg, MMWAVE_APLL_CLOCK_ENABLE, &errCode);
```

### 2. Include 路径问题

**问题**：编译器找不到 `source/` 目录下的头文件

**文件**：`demo_in_cabin_sensing_6844_mss.projectspec`

**修复**：添加了以下 include 路径
```xml
-I${PROJECT_MSS_PATH}/source
```

---

## 📋 开发环境

| 组件 | 版本 | 路径 |
|-----|------|------|
| **MMWAVE_L_SDK** | 06.01.00.01 | `C:\ti\mmwave_l_sdk_06_01_00_01` |
| **Radar Toolbox** | 3.30.00.06 | `C:\ti\radar_toolbox_3_30_00_06` |
| **CCS Theia** | 20.4.0.00013 | `C:\ti\ccstheia140` |
| **TI ARM Compiler** | 4.0.4.LTS | - |
| **C6000 Compiler** | 8.5.0.LTS | - |

---

## ✅ 编译验证结果

所有构建均已成功：

| 项目 | 状态 | 输出 |
|-----|------|------|
| **demo_in_cabin_sensing_6844_mss** | ✅ 成功 | MSS 二进制 |
| **demo_in_cabin_sensing_6844_dss** | ✅ 成功 | DSS 二进制 |
| **demo_in_cabin_sensing_6844_system** | ✅ 成功 | 系统镜像 |

---

## 🚀 后续步骤

### 打开新项目
1. 在 VS Code 中打开 `D:\7.project\TI_Radar_Project`
2. 安装推荐的扩展（如果提示）
3. 继续开发工作

### CCS 导入项目
在 CCS Theia 中导入以下路径：
```
D:\7.project\TI_Radar_Project\project-code\AWRL6844_InCabin_Demos\src
```

### 清理旧目录
确认新项目工作正常后，可以删除旧目录：
```powershell
Remove-Item -Recurse -Force "D:\7.项目资料\Ti雷达项目"
```

---

## ⚠️ 注意事项

1. **Chat 历史**：VS Code Copilot 的聊天历史按工作区存储，不会自动迁移到新项目
2. **Git 仓库**：Git 历史已完整保留（`.git` 目录已复制）
3. **路径规范**：以后所有新项目都应使用纯英文路径，避免中文字符

---

## 📚 相关文档

- `项目文档/3-固件工具/01-AWRL6844固件系统工具/` - 烧录工具文档
- `项目文档/3-固件工具/05-雷达配置参数研究/` - 配置文件研究
- `知识库/SDK配置文件/` - SDK 配置参考

---

> 📅 记录时间：2026-01-06  
> 📝 记录人：GitHub Copilot  
> 🔄 状态：迁移完成，待用户验证
