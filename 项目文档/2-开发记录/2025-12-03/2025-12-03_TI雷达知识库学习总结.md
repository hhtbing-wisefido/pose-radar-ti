# 📡 TI雷达知识库学习总结

> **日期**: 2025-12-03  
> **目标**: 为TI雷达项目开发做准备,系统学习知识库资料

---

## 📚 知识库资料概览

### 🗂️ 硬件资料分类

知识库中包含以下硬件资料类别:

1. **🔌 485转WIFI资料** - 通信模块
2. **💻 MCU开发板资料** - 微控制器开发资源
3. **🔗 USB-TTL DATA** - 串口调试工具
4. **🚨 报警灯资料** - 报警设备
5. **🔧 支架资料** - 机械结构
6. **🛏️ 睡眠压力板资料** - BCG心率呼吸检测 ⭐
7. **📋 规格书** - 芯片规格(ADS1220, ADS122C04, OPA388)
8. **📡 雷达模组资料** - TI 60G 4T4R雷达模块 ⭐⭐
9. **📦 雷达资料(郭剑交接)** - 历史开发资料 ⭐
10. **📳 震动传感器资料** - 振动检测设备

---

## 🎯 核心技术重点

### 1️⃣ TI 60GHz毫米波雷达 ⭐⭐⭐

#### 硬件平台
- **芯片型号**: AWRL6844EVM
- **官方链接**: https://www.ti.com.cn/product/cn/AWRL6844EVM
- **天线配置**: 4T4R (4发4收)车规级雷达模块
- **频段**: 60GHz毫米波

#### 开发资源
```
雷达模块资料/
├── IDE/                          # 集成开发环境
├── MMWAVE-STUDIO-XWRL68XX/      # 毫米波工作室工具
├── RADAR-TOOLBOX/               # 雷达工具箱
├── SDK/                         # 软件开发包
├── uniflash_sl.9.3.0.5401.exe  # 烧录工具
├── 技术文档/                    # (目前为空)
└── 设计文件/                    # 硬件设计资料
```

#### 配置文件 (profile_4T4R_tdm.cfg)
关键配置参数:
- **通道配置**: 153通道, 255频率
- **帧配置**: 64帧, 1358个点, 100ms间隔
- **CFAR检测**: 双阶段配置(距离和多普勒)
- **AoA处理**: 64x64点云处理
- **视场角(FoV)**: 
  - 方位角: -60° ~ +60°
  - 俯仰角: -60° ~ +60°
  - 距离: 0.25 ~ 9.0米
  - 速度: -20.16 ~ 20.16 m/s

#### Python开发工具
- **Industrial_Visualizer**: 工业可视化工具
  - `gui_main.py`: 主程序入口
  - 包含多个replay配置文件(JSON格式)
  - 已调试可用的Python雷达数据采集程序

---

### 2️⃣ 睡眠压力板算法 (BCG信号处理) ⭐⭐

#### 系统参数
- **ADC采样率**: 90 Hz (90 SPS)
- **通道数**: 4通道并行采集
- **芯片**: ADS122C04
- **数据格式**: 16位小端序二进制

#### 信号处理流程

```
原始数据(90Hz) 
    ↓
预处理: 带通滤波(0.5-4.0Hz)
    ↓
多通道处理: 4通道并行 + SQI质量评估
    ↓
心率检测: 频域(FFT) + 时域(峰检测) + 自相关
    ↓
呼吸检测: 低频提取 + J波幅度调制
    ↓
融合仲裁: 多方法共识 + 异常处理
    ↓
后处理: 卡尔曼滤波 + 连续性验证
    ↓
输出: 心率(bpm) + 呼吸率(rpm)
```

#### 核心算法参数

| 参数 | 值 | 说明 |
|------|-----|------|
| **采样率** | 90 Hz | ADC采样频率 |
| **带通滤波器** | 0.5-4.0 Hz | 隔离心率和呼吸信号 |
| **FFT窗口** | 15秒 (1350点) | 频域分析窗口 |
| **心率范围** | 0.5-2.5 Hz | 对应30-150 bpm |
| **呼吸范围** | 0.1-0.6 Hz | 对应6-36 rpm |
| **J波检测窗口** | 6ms | 滑窗波峰检测 |
| **共识阈值** | N=3 | 至少3个通道确认心跳 |

#### 信号质量指数(SQI)
```
SQI = Energy_in_HR_Band / (Energy_Total - Energy_in_HR_Band + ε)
```
- 用于评估每个通道的信号质量
- 动态权重融合多通道数据
- 过滤低质量通道

#### 心率检测三重引擎

**A. 频域估计器(FFT)** ⭐
- **优点**: 最稳定,抗噪性好
- **缺点**: 响应慢,延迟高
- **用途**: 低SQI时的主力算法

**B. 时域估计器(峰检测)** ⭐⭐
- **优点**: 响应最快,延迟极低
- **缺点**: 易受噪声干扰
- **用途**: 高SQI时用于HRV分析

**C. 自相关估计器** ⭐
- **优点**: 平衡性能
- **缺点**: 介于AB之间
- **用途**: 中等SQI或结果冲突时

#### 多通道共识机制 🔑

1. **6ms滑窗J波检测**: 每个通道独立检测局部极值
2. **SQI质量筛选**: 只有高质量通道具备"投票权"
3. **多数投票**: 至少N=3个通道在同一时间窗确认心跳
4. **连续性验证**: 
   - 当前心率与历史平均值差异 < ±10%
   - 与上一个值差异 < ±20%
5. **备份机制**: 连续失败时启用频谱分析备份

---

## 🔧 开发工具链

### TI官方工具
1. **mmWave Studio** - 毫米波雷达配置和调试
2. **Radar Toolbox** - 信号处理和算法开发
3. **Uniflash** - 固件烧录工具
4. **CCS IDE** - Code Composer Studio集成开发环境

### Python工具
- **Industrial_Visualizer** - 雷达数据可视化
- **NumPy/SciPy** - 数值计算和信号处理
- **Matplotlib** - 数据可视化

### 硬件开发
- **MCU开发板** - 嵌入式系统开发
- **USB-TTL** - 串口调试
- **ADS122C04** - 高精度ADC采集

---

## 📖 学习路径建议

### 阶段1: 基础理论 (1-2周)
- [ ] 学习毫米波雷达基本原理
- [ ] 理解FMCW雷达工作机制
- [ ] 掌握4T4R MIMO天线阵列概念
- [ ] 了解AoA/AoD角度估计算法

### 阶段2: 工具熟悉 (1周)
- [ ] 安装mmWave Studio和SDK
- [ ] 运行官方Demo程序
- [ ] 学习配置文件格式
- [ ] 测试Python可视化工具

### 阶段3: 算法开发 (2-3周)
- [ ] 实现CFAR检测算法
- [ ] 开发点云处理流程
- [ ] 实现目标跟踪算法
- [ ] 优化参数配置

### 阶段4: 系统集成 (1-2周)
- [ ] 整合多传感器数据
- [ ] 开发上位机软件
- [ ] 实现数据记录和回放
- [ ] 性能测试和优化

---

## 🎯 关键技术挑战

### 1. 雷达信号处理
- **挑战**: 多普勒频移、杂波抑制、多目标分离
- **方案**: CFAR检测 + DBF波束成形 + 卡尔曼滤波跟踪

### 2. 睡眠监测融合
- **挑战**: 如何结合雷达和压力板数据
- **方案**: 
  - 雷达提供非接触式呼吸检测
  - 压力板提供高精度心率检测
  - 数据融合提高鲁棒性

### 3. 实时性能优化
- **挑战**: 90Hz高速采样 + 实时算法处理
- **方案**: 
  - 多线程并行处理
  - SIMD指令优化
  - 乒乓缓冲区避免数据丢失

---

## 📝 下一步计划

### 近期任务 (本周)
1. ✅ 完成知识库资料整理
2. ⏳ 安装TI开发工具链
3. ⏳ 运行第一个雷达Demo
4. ⏳ 测试Python可视化程序

### 中期目标 (本月)
- 掌握雷达配置文件编写
- 实现基础的点云处理
- 开发简单的目标检测算法
- 搭建数据采集和记录系统

### 长期目标 (季度)
- 完成睡眠监测系统原型
- 实现多传感器融合算法
- 优化系统性能和稳定性
- 编写技术文档和用户手册

---

## 🔗 相关资源

### 官方文档
- [AWRL6844 产品页面](https://www.ti.com.cn/product/cn/AWRL6844EVM)
- TI Training: mmWave Radar基础课程
- TI E2E论坛: 技术问题讨论

### 知识库位置
- **硬件资料**: `知识库/硬件资料/`
- **雷达模组**: `知识库/硬件资料/雷达模组资料/`
- **历史资料**: `知识库/硬件资料/雷达资料（郭剑交接）/`
- **睡眠算法**: `知识库/硬件资料/睡眠压力板资料/压力板数据/`

---

**学习总结**: 
- ✅ 已掌握项目整体架构
- ✅ 了解核心技术栈
- ✅ 明确学习路径
- 🚀 准备开始实践开发

---

_最后更新: 2025-12-03_
