# 📊 TI 雷达项目状态总结

> **日期**: 2026-01-28
> **版本**: v1.0
> **项目**: AWRL6844-EVM 毫米波雷达开发平台

---

## 🎯 项目概述

基于 **TI AWRL6844-EVM** 毫米波雷达评估板的完整开发项目，包含固件烧录系统、雷达配置研究、健康检测固件开发等多个模块。

---

## 📦 模块进度一览

| 模块 | 说明 | 状态 | 进度 |
|------|------|------|------|
| 🔧 **固件烧录系统** | arprog_cmdline 烧录工具、GUI 管理界面 | ✅ **完成** | 100% |
| 📊 **雷达配置研究** | 46万+字符深度分析文档、GUI配置工具 | ✅ **完成** | 100% |
| 💓 **健康检测固件** | 呼吸/心跳检测算法、三层架构固件 | 🔄 **开发中** | **75%** |
| 🚶 **跌倒检测迁移** | xWRL6432→AWRL6844 算法迁移研究 | 📋 **研究中** | 20% |
| 📚 **SDK深度研究** | 16 Parts 系列文档（60万+字符） | ✅ **完成** | 100% |

---

## 💓 HealthDetect 项目详细状态

### ✅ 已完成工作

| 阶段 | 内容 | 状态 |
|-----|------|------|
| **代码架构** | 三层架构设计 (Common/MSS/DSS/System) | ✅ 完成 |
| **MSS 子系统** | 22个源文件，~3500行代码 | ✅ 完成 |
| **DSS 子系统** | 特征提取、DSP工具函数 | ✅ 完成 |
| **CCS 项目配置** | MSS/DSS/System projectspec | ✅ 完成 |
| **编译** | CCS 编译成功，生成 appimage | ✅ 完成 |
| **烧录** | 使用 SDK Visualizer 烧录成功 | ✅ 完成 |
| **CLI 命令** | 配置发送成功，所有命令 accepted | ✅ 完成 |

### ⏳ 当前阻塞点

| 问题 | 错误码 | 根因 | 修复状态 |
|-----|--------|------|---------|
| **sensorStart 失败** | -204476470 / -203621554 | 工厂校准参数/流程问题 | ⏸️ **第11轮代码已修复，待编译验证** |

### 🔧 第11轮修复内容（2026-01-15）

**修复的文件**：
1. `radar_control.c` (Line 446-543) - 重新启用工厂校准，SDK 标准流程
2. `health_detect_standard.cfg` - 启用 factoryCalibCfg 配置

**修复策略**：
- ✅ 重新启用 `MMWave_factoryCalib()` 调用
- ✅ 设置 `ptrFactoryCalibData` 指针指向有效内存
- ✅ 两种模式：CLI 配置 / 默认参数
- ✅ 即使校准失败也继续执行（开发调试模式）

---

## 📋 后续 TODO（按优先级排序）

### 🔴 P0 - 紧急（阻塞项目进展）

| # | 任务 | 说明 | 预计工作量 |
|---|------|------|-----------|
| 1 | **重新编译 HealthDetect** | 第11轮修复代码后需要 CCS 重新编译 | 15分钟 |
| 2 | **烧录并验证 sensorStart** | 使用 SDK Visualizer 烧录新固件，测试 sensorStart | 30分钟 |
| 3 | **分析新错误码（如有）** | 根据测试结果分析，可能需要第12轮修复 | 1-2小时 |

### 🟡 P1 - 高优先级（功能完善）

| # | 任务 | 说明 | 预计工作量 |
|---|------|------|-----------|
| 4 | **完成存在检测功能** | 验证 presence_detect.c 算法工作正常 | 2-4小时 |
| 5 | **验证点云输出** | 确认 TLV 数据格式正确，Visualizer 可显示 | 1-2小时 |
| 6 | **添加生命体征检测** | 呼吸/心率算法实现（DSS 层） | 1-2天 |
| 7 | **研究正确的工厂校准参数** | 参考 TI 文档确定 rxGain/txBackoff 正确值 | 2-4小时 |

### 🟢 P2 - 中优先级（增强功能）

| # | 任务 | 说明 | 预计工作量 |
|---|------|------|-----------|
| 8 | **跌倒检测算法迁移** | xWRL6432→AWRL6844 | 3-5天 |
| 9 | **配置参数调优** | 参考 mmWave_Demo_Tuning_Guide.md | 1-2天 |
| 10 | **GUI 工具集成** | 健康检测 GUI 可视化 | 2-3天 |

### 🔵 P3 - 低优先级（优化改进）

| # | 任务 | 说明 | 预计工作量 |
|---|------|------|-----------|
| 11 | **代码优化** | DSP 算法性能优化 | 持续 |
| 12 | **文档完善** | 更新 API 文档和使用说明 | 持续 |
| 13 | **单元测试** | 添加测试用例 | 1周 |

---

## 📚 知识库资源汇总

### 核心参考文档（已转为 MD 格式）

| 文档 | 用途 | 位置 |
|-----|------|------|
| `mmWave_Demo_Tuning_Guide.md` | 参数调优指南（36页） | 知识库/知识库PDF转机器可读文件/ |
| `Migration_from_xWRLx432_to_xWRL6844.md` | 迁移指南（10页） | 同上 |
| `xWRL6844 Software Getting Started Guide.md` | 快速入门（9页） | 同上 |
| `xWRL68xx Technical Reference Manual.md` | 技术参考手册 | 同上 |
| `awrl6844规格书.md` | 芯片规格 | 同上 |

### 知识库统计

- **PDF 转 MD 文档**：80+ 个
- **技术文档覆盖**：SDK、芯片、算法、调试、迁移
- **转换状态跟踪**：`.conversion_state.json`

---

## 🛠️ 开发环境状态

| 组件 | 版本 | 状态 |
|-----|------|------|
| MMWAVE_L_SDK | 06.01.00.01 | ✅ 已安装 |
| Radar Toolbox | 3.30.00.06 | ✅ 已安装 |
| CCS | 20.x | ✅ 就绪 |
| ti-arm-clang | 4.0.2.LTS | ✅ 就绪 |
| ti-c6000 | 8.3.13 | ✅ 就绪 |
| PowerShell 7+ | 7.5.4 | ✅ UTF-8 配置完成 |

### 编码保护状态

```
✅ 编码保护 v3.0 - 保护等级：🟢🟢🟢🟢🟢🟢 (6/6)

六层保护已全部激活：
  ✅ 第1层：PowerShell 5.1 配置
  ✅ 第2层：PowerShell 7+ 配置 (v7.5.4)
  ✅ 第3层：VS Code + EditorConfig
  ✅ 第4层：Git配置 + pre-commit hook
  ✅ 第5层：GitHub Actions CI/CD
  ✅ 第6层：AI 指令约束
```

---

## 📁 项目结构

```
TI_Radar_Project/
├── 📂 project-code/                    # 源代码
│   ├── AWRL6844_HealthDetect/         # ⭐ 健康检测项目（开发中）
│   ├── AWRL6844_InCabin_Demos/        # InCabin 参考项目
│   └── mmw_demo_SDK_reference/        # SDK 参考代码
│
├── 📂 项目文档/                        # 核心文档
│   ├── 1-需求与设计/                  # 需求和设计文档
│   ├── 2-开发记录/                    # 开发日志（按日期）
│   ├── 3-固件工具/                    # 固件相关工具和文档
│   └── 4-测试实验结果/                # 测试结果记录
│
├── 📂 知识库/                          # 本地参考资料
│   ├── 知识库PDF转机器可读文件/       # 80+ MD 文档
│   ├── 雷达模块/                      # 硬件资料
│   └── C_ti_link/                     # SDK 链接
│
├── 📂 .github/                         # GitHub 配置和 AI 规则
│   ├── instructions/                  # AI 指令文件
│   ├── workflows/                     # CI/CD 工作流
│   └── ENCODING-PROTECTION.md         # 编码保护规范
│
├── .editorconfig                       # 编辑器配置
├── .gitattributes                      # Git 属性配置
└── README.md                           # 项目说明
```

---

## 🎯 下一步行动

### 立即执行

```bash
1. 打开 CCS
2. 重新编译 AWRL6844_HealthDetect 项目（System 项目）
3. 使用 SDK Visualizer 烧录新固件
4. 测试 sensorStart 命令
5. 根据结果决定是否需要第12轮修复
```

### 本周目标

- [ ] sensorStart 成功启动
- [ ] 点云数据正常输出
- [ ] 存在检测功能验证
- [ ] 开始生命体征检测算法开发

---

## 📊 Git 仓库信息

| 项目 | 值 |
|-----|-----|
| **仓库名** | pose-radar-ti |
| **所有者** | hhtbing-wisefido |
| **分支** | master |
| **最近提交** | 2026-01-28 (编码保护配置) |

---

## 📝 历史修复轮次摘要

| 轮次 | 日期 | 问题 | 解决方案 |
|-----|------|------|---------|
| Round 1-5 | 2026-01-08~09 | 编译错误 | 修复头文件、API 调用 |
| Round 6 | 2026-01-15 | sensorStart 失败 | 修复 RF 电源 |
| Round 7 | 2026-01-15 | 工厂校准配置 | 修复 calibCfg |
| Round 8 | 2026-01-15 | 头文件路径 | 修复 include 路径 |
| Round 9 | 2026-01-15 | calibCfg 有效性 | 添加检查逻辑 |
| Round 10 | 2026-01-15 | 命令组合测试 | 识别 antGeometryBoard 必需 |
| **Round 11** | **2026-01-15** | **重新启用校准** | **SDK 标准流程（待验证）** |

---

> 📌 **文档位置**: `项目文档/2-开发记录/2026-01-28/2026-01-28_项目状态总结.md`
> 
> 🔗 **相关文档**: 
> - 详细修复记录: `项目文档/3-固件工具/09-AWRL6844 从mmw_demo演进Health Detection基础功能项目/HealthDetect项目重建总结.md`
> - 开发记录索引: `项目文档/2-开发记录/README.md`
