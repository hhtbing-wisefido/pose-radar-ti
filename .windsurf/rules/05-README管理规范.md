---
title: "README Management Standard"
description: "README.md文件管理和目录树维护规范"
trigger: always_on
---

# README.md 管理规范

**规则类型**: 🔴 强制规则  
**强制级别**: 🔴 严格执行  
**适用范围**: 项目中所有包含README.md的目录

---

## 🔴 根目录README同步规则（新增）

### 必须同步的内容

**根目录README.md中以下内容必须与代码保持一致**：

| 内容 | 代码位置 | README位置 |
|-----|---------|-----------|
| 版本号 | web.py version字段 | 标题行、badge、版本里程碑 |
| 词条总数 | coding_dictionary.json | 当前统计章节 |
| 编码系统分布 | coding_dictionary.json | 统计章节 |
| Schema字段 | schema.json | 数据结构章节 |
| 功能列表 | web.py API端点 | 核心特性、API章节 |
| 最后更新日期 | 当前日期 | 文件末尾 |

### 触发更新的条件

以下变更后**必须**更新根目录README：
- ✅ 版本号变更
- ✅ 词条数量变化（增加/减少）
- ✅ Schema字段变更
- ✅ 新增编码系统或Category
- ✅ 新增API端点
- ✅ 新增重大功能

### AI强制执行

**版本更新后，AI必须立即执行**（不是提醒）：
1. 更新根目录README.md中的版本号
2. 更新统计数据
3. 添加版本里程碑
4. 更新最后更新日期

---

## 📋 核心规则

### 规则1: README.md 自动更新机制 🔴

**每次创建新目录后**，AI必须立即：

1. 检查是否创建了README.md
2. 检查README内容是否完整
3. 检查是否更新了父目录的README

**绝对禁止**：
- ❌ 只创建目录，不创建README
- ❌ 创建空的README（没有说明）

**强制要求**：
当README.md所在目录有任何文件变动时，**必须立即更新该README.md**。

**文件变动包括**：
- ✅ 新增文件或目录
- ✅ 删除文件或目录
- ✅ 重命名文件或目录
- ✅ 移动文件或目录
- ✅ 修改文件结构
- ✅ 版本/数据变更

**禁止行为**：
- ❌ 修改了目录结构但不更新README.md
- ❌ 添加了新文件但README.md中没有说明
- ❌ 删除了文件但目录树仍显示该文件
- ❌ README.md与实际目录结构不一致
- ❌ 版本更新但不同步根目录README

---

### 规则2: 目录树必需内容 🔴

**每个README.md必须包含**：
1. 目录树结构
2. 每个文件/目录的注释说明

**注释要求**：
- 🔴 **必须**：每个项目都要有注释
- 🔴 **清晰**：说明文件/目录的用途
- 🔴 **简洁**：一句话概括，不超过20个字

---

## 🎯 AI执行流程

### 每次修改文件后必须执行

#### Step 1: 检测变动类型
- 文件：新增/删除/重命名/移动
- 目录：新增/删除/重命名/移动
- **数据：版本/词条数/Schema变更**

#### Step 2: 确定需要更新的README
- 变动所在目录的README.md
- **如是版本更新：根目录README.md**
- 父目录README.md（如需要）

#### Step 3: 立即执行更新
- 更新目录树
- 更新统计数据
- 更新版本信息
- 更新注释

#### Step 4: 验证一致性
- README与实际结构一致
- 版本号一致
- 统计数据一致

---

## ⚠️ 例外情况

**以下README.md不需要目录树**：
- .windsurf/README.md - 规则系统使用指南
- 纯教程/FAQ类README

**但根目录README.md必须**：
- 包含版本号
- 包含统计数据
- 与代码保持同步

---

## 📊 监控范围

### 必须监控的README

| README | 优先级 | 同步内容 |
|--------|-------|---------|
| 根目录/README.md | 🔴最高 | 版本、统计、功能 |
| project-code/README.md | 🔴高 | 版本、更新日志 |
| 项目文档/README.md | 🟡中 | 目录列表 |

---

## 🚫 禁止行为

### 严格禁止

1. ❌ 修改了目录但不更新README
2. ❌ 版本更新但不同步根目录README
3. ❌ README与实际不符
4. ❌ 缺少注释
5. ❌ 只提醒用户而不执行更新

---

## ✅ AI强制执行清单

### 文件变更后
1. [ ] 检查目录README是否需要更新
2. [ ] **立即执行**更新（不等用户确认）

### 版本更新后
1. [ ] 更新根目录README.md版本号
2. [ ] 更新根目录README.md统计数据
3. [ ] 更新根目录README.md最后更新日期
4. [ ] 更新project-code/README.md
5. [ ] **立即执行**（不等用户确认）

### 创建文件后
1. [ ] 检查目录有README.md吗
2. [ ] 需要更新吗
3. [ ] **立即执行**更新

---

**AI必须主动执行README同步，绝不等待用户要求！** 🎯
